
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://abelsiqueira.com/perprof-py/dev/old-api/">
      
      
        <link rel="prev" href="../api/">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Old public API - perprof-py</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,700i%7CFira+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Lato";--md-code-font:"Fira Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../css/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#old-api-for-developers" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="perprof-py" class="md-header__button md-logo" aria-label="perprof-py" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            perprof-py
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Old public API
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="perprof-py" class="md-nav__button md-logo" aria-label="perprof-py" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    perprof-py
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Command Line Usage
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../file-format/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File Format
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Public API
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Old public API
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Old public API
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#entry-point" class="md-nav__link">
    <span class="md-ellipsis">
      Entry point
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Entry point">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#perprof.main" class="md-nav__link">
    <span class="md-ellipsis">
      main
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#perprof.main-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#perprof.main-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#file-parse" class="md-nav__link">
    <span class="md-ellipsis">
      File parse
    </span>
  </a>
  
    <nav class="md-nav" aria-label="File parse">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#perprof.parse" class="md-nav__link">
    <span class="md-ellipsis">
      parse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#perprof.parse-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profile-interface" class="md-nav__link">
    <span class="md-ellipsis">
      Profile interface
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Profile interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#perprof.prof" class="md-nav__link">
    <span class="md-ellipsis">
      prof
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#perprof.prof-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#perprof.prof-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profiler-using-tikz" class="md-nav__link">
    <span class="md-ellipsis">
      Profiler using TikZ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Profiler using TikZ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#perprof.tikz" class="md-nav__link">
    <span class="md-ellipsis">
      tikz
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#perprof.tikz-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profiler-using-matplotlib" class="md-nav__link">
    <span class="md-ellipsis">
      Profiler using matplotlib
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Profiler using matplotlib">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#perprof.matplotlib" class="md-nav__link">
    <span class="md-ellipsis">
      matplotlib
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#perprof.matplotlib-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#entry-point" class="md-nav__link">
    <span class="md-ellipsis">
      Entry point
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Entry point">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#perprof.main" class="md-nav__link">
    <span class="md-ellipsis">
      main
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#perprof.main-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#perprof.main-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#file-parse" class="md-nav__link">
    <span class="md-ellipsis">
      File parse
    </span>
  </a>
  
    <nav class="md-nav" aria-label="File parse">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#perprof.parse" class="md-nav__link">
    <span class="md-ellipsis">
      parse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#perprof.parse-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profile-interface" class="md-nav__link">
    <span class="md-ellipsis">
      Profile interface
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Profile interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#perprof.prof" class="md-nav__link">
    <span class="md-ellipsis">
      prof
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#perprof.prof-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#perprof.prof-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profiler-using-tikz" class="md-nav__link">
    <span class="md-ellipsis">
      Profiler using TikZ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Profiler using TikZ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#perprof.tikz" class="md-nav__link">
    <span class="md-ellipsis">
      tikz
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#perprof.tikz-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#profiler-using-matplotlib" class="md-nav__link">
    <span class="md-ellipsis">
      Profiler using matplotlib
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Profiler using matplotlib">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#perprof.matplotlib" class="md-nav__link">
    <span class="md-ellipsis">
      matplotlib
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#perprof.matplotlib-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="old-api-for-developers">Old API for Developers<a class="headerlink" href="#old-api-for-developers" title="Permanent link">&para;</a></h1>
<p>This API still exists, but I don&rsquo;t think they were used publicly anywhere.
The <a href="../api/">new API</a> should be preferred.</p>
<div class="toc">
<ul>
<li><a href="#old-api-for-developers">Old API for Developers</a><ul>
<li><a href="#entry-point">Entry point</a><ul>
<li><a href="#perprof.main">main</a></li>
<li><a href="#perprof.main-classes">Classes</a></li>
<li><a href="#perprof.main-functions">Functions</a></li>
</ul>
</li>
<li><a href="#file-parse">File parse</a><ul>
<li><a href="#perprof.parse">parse</a></li>
<li><a href="#perprof.parse-functions">Functions</a></li>
</ul>
</li>
<li><a href="#profile-interface">Profile interface</a><ul>
<li><a href="#perprof.prof">prof</a></li>
<li><a href="#perprof.prof-classes">Classes</a></li>
<li><a href="#perprof.prof-functions">Functions</a></li>
</ul>
</li>
<li><a href="#profiler-using-tikz">Profiler using TikZ</a><ul>
<li><a href="#perprof.tikz">tikz</a></li>
<li><a href="#perprof.tikz-classes">Classes</a></li>
</ul>
</li>
<li><a href="#profiler-using-matplotlib">Profiler using matplotlib</a><ul>
<li><a href="#perprof.matplotlib">matplotlib</a></li>
<li><a href="#perprof.matplotlib-classes">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h2 id="entry-point">Entry point<a class="headerlink" href="#entry-point" title="Permanent link">&para;</a></h2>


<div class="doc doc-object doc-module">



<a id="perprof.main"></a>
    <div class="doc doc-contents first">

        <p>Main file for perprof.</p>









  <div class="doc doc-children">






<h3 id="perprof.main-classes">Classes<a href="#perprof.main-classes" class="headerlink" title="Permanent link">&para;</a></h3>

<div class="doc doc-object doc-class">



<h4 id="perprof.main.ParserOptions" class="doc doc-heading">
            <code>perprof.main.ParserOptions</code>


<a href="#perprof.main.ParserOptions" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-external" title="typing.TypedDict" href="https://docs.python.org/3/library/typing.html#typing.TypedDict">TypedDict</a></code></p>


        <p>Type definition for parser options dictionary.</p>







              <details class="quote">
                <summary>Source code in <code>perprof/main.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ParserOptions</span><span class="p">(</span><span class="n">TypedDict</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Type definition for parser options dictionary.&quot;&quot;&quot;</span>

    <span class="n">free_format</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">files</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">success</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">maxtime</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">mintime</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">compare</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">unc</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">infeas_tol</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">subset</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="perprof.main.ProfilerOptions" class="doc doc-heading">
            <code>perprof.main.ProfilerOptions</code>


<a href="#perprof.main.ProfilerOptions" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-external" title="typing.TypedDict" href="https://docs.python.org/3/library/typing.html#typing.TypedDict">TypedDict</a></code></p>


        <p>Type definition for profiler options dictionary.</p>







              <details class="quote">
                <summary>Source code in <code>perprof/main.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ProfilerOptions</span><span class="p">(</span><span class="n">TypedDict</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Type definition for profiler options dictionary.&quot;&quot;&quot;</span>

    <span class="n">lang</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">cache</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">files</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">standalone</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">semilog</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">black_and_white</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">output</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">pgfplot_version</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">tau</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">pdf_verbose</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">xlabel</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">ylabel</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">background</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">page_background</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span>
    <span class="n">output_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>
<h3 id="perprof.main-functions">Functions<a href="#perprof.main-functions" class="headerlink" title="Permanent link">&para;</a></h3>

<div class="doc doc-object doc-function">


<h4 id="perprof.main.main" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">perprof</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">main</span><span class="p">()</span></code>

<a href="#perprof.main.main" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Run the perprof command-line tool.</p>
<p>Orchestrates the performance profile generation workflow:
1. Parse command-line arguments and configure logging
2. Process arguments into option dictionaries
3. Select backend and generate profile output</p>
<p>Handles errors gracefully with user-friendly messages.</p>


<details class="example-usage" open>
  <summary>Example usage</summary>
  <p>$ perprof &ndash;bokeh data1.txt data2.txt -o comparison.html
$ perprof &ndash;matplotlib &ndash;pdf solver1.csv solver2.csv
$ perprof &ndash;tikz &ndash;tex algorithm1.yaml algorithm2.yaml</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#SystemExit">SystemExit</a></code>
            –
          <div class="doc-md-description">
            <p>On argument parsing errors or critical failures.</p>
          </div>
        </li>
    </ul>


            <details class="quote">
              <summary>Source code in <code>perprof/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Run the perprof command-line tool.</span>

<span class="sd">    Orchestrates the performance profile generation workflow:</span>
<span class="sd">    1. Parse command-line arguments and configure logging</span>
<span class="sd">    2. Process arguments into option dictionaries</span>
<span class="sd">    3. Select backend and generate profile output</span>

<span class="sd">    Handles errors gracefully with user-friendly messages.</span>

<span class="sd">    Example usage:</span>
<span class="sd">        $ perprof --bokeh data1.txt data2.txt -o comparison.html</span>
<span class="sd">        $ perprof --matplotlib --pdf solver1.csv solver2.csv</span>
<span class="sd">        $ perprof --tikz --tex algorithm1.yaml algorithm2.yaml</span>

<span class="sd">    Raises:</span>
<span class="sd">        SystemExit: On argument parsing errors or critical failures.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">args</span> <span class="o">=</span> <span class="n">set_arguments</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>

        <span class="c1"># Initialize logging</span>
        <span class="n">setup_logging</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">verbose</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">debug</span><span class="p">,</span> <span class="n">log_file</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">log_file</span><span class="p">)</span>

        <span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;perprof.main&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Starting perprof with </span><span class="si">%d</span><span class="s2"> input files&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">file_name</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Arguments: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">vars</span><span class="p">(</span><span class="n">args</span><span class="p">))</span>

        <span class="n">parser_options</span><span class="p">,</span> <span class="n">profiler_options</span> <span class="o">=</span> <span class="n">process_arguments</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Parser options: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">parser_options</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Profiler options: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">profiler_options</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">bokeh</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Using Bokeh backend for </span><span class="si">%s</span><span class="s2"> output&quot;</span><span class="p">,</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output_format&quot;</span><span class="p">]</span>
            <span class="p">)</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">.</span><span class="w"> </span><span class="kn">import</span> <span class="n">bokeh</span>

            <span class="n">bokeh_profiler</span> <span class="o">=</span> <span class="n">bokeh</span><span class="o">.</span><span class="n">Profiler</span><span class="p">(</span><span class="n">parser_options</span><span class="p">,</span> <span class="n">profiler_options</span><span class="p">)</span>
            <span class="n">bokeh_profiler</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Bokeh plot generation completed&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">mp</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Using matplotlib backend for </span><span class="si">%s</span><span class="s2"> output&quot;</span><span class="p">,</span>
                <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output_format&quot;</span><span class="p">],</span>
            <span class="p">)</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">.</span><span class="w"> </span><span class="kn">import</span> <span class="n">matplotlib</span>

            <span class="n">mp_profiler</span> <span class="o">=</span> <span class="n">matplotlib</span><span class="o">.</span><span class="n">Profiler</span><span class="p">(</span><span class="n">parser_options</span><span class="p">,</span> <span class="n">profiler_options</span><span class="p">)</span>
            <span class="n">mp_profiler</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Matplotlib plot generation completed&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">tikz</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output_format&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;pdf&quot;</span> <span class="ow">and</span> <span class="n">args</span><span class="o">.</span><span class="n">output</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">error_msg</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span>
                    <span class="s2">&quot;ERROR: When using PDF output, you need to provide &quot;</span>
                    <span class="s2">&quot;the name of the output file.&quot;</span>
                <span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error_msg</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">error_msg</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;Using TikZ backend for </span><span class="si">%s</span><span class="s2"> output&quot;</span><span class="p">,</span>
                    <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output_format&quot;</span><span class="p">],</span>
                <span class="p">)</span>
                <span class="kn">from</span><span class="w"> </span><span class="nn">.</span><span class="w"> </span><span class="kn">import</span> <span class="n">tikz</span>

                <span class="n">tikz_profiler</span> <span class="o">=</span> <span class="n">tikz</span><span class="o">.</span><span class="n">Profiler</span><span class="p">(</span><span class="n">parser_options</span><span class="p">,</span> <span class="n">profiler_options</span><span class="p">)</span>
                <span class="n">tikz_profiler</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;TikZ plot generation completed&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">raw</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Generating raw data output&quot;</span><span class="p">)</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">.</span><span class="w"> </span><span class="kn">import</span> <span class="n">prof</span>

            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;raw&quot;</span><span class="p">)</span>

            <span class="nb">print</span><span class="p">(</span><span class="n">prof</span><span class="o">.</span><span class="n">Pdata</span><span class="p">(</span><span class="n">parser_options</span><span class="p">,</span> <span class="n">profiler_options</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">table</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Generating robustness/efficiency table&quot;</span><span class="p">)</span>
            <span class="kn">from</span><span class="w"> </span><span class="nn">.</span><span class="w"> </span><span class="kn">import</span> <span class="n">prof</span>

            <span class="n">pdata</span> <span class="o">=</span> <span class="n">prof</span><span class="o">.</span><span class="n">Pdata</span><span class="p">(</span><span class="n">parser_options</span><span class="p">,</span> <span class="n">profiler_options</span><span class="p">)</span>
            <span class="n">pdata</span><span class="o">.</span><span class="n">print_rob_eff_table</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;perprof.main&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Input validation error: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">NotImplementedError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;perprof.main&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Feature not implemented: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;perprof.main&quot;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;Unexpected error occurred&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unexpected error: </span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="perprof.main.process_arguments" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">perprof</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">process_arguments</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></code>

<a href="#perprof.main.process_arguments" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Convert command-line arguments into parser and profiler option dictionaries.</p>
<p>Separates data processing options from visualization options and validates
backend/format compatibility.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>args</code></b>
              (<code><a class="autorefs autorefs-external" title="argparse.Namespace" href="https://docs.python.org/3/library/argparse.html#argparse.Namespace">Namespace</a></code>)
          –
          <div class="doc-md-description">
            <p>Parsed command-line arguments from argparse.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#tuple">tuple</a>[<a class="autorefs autorefs-internal" title="perprof.main.ParserOptions" href="#perprof.main.ParserOptions">ParserOptions</a>, <a class="autorefs autorefs-internal" title="perprof.main.ProfilerOptions" href="#perprof.main.ProfilerOptions">ProfilerOptions</a>]</code>
          –
          <div class="doc-md-description">
            <p>tuple[ParserOptions, ProfilerOptions]: A tuple containing:
- ParserOptions: Configuration for data parsing and processing
- ProfilerOptions: Configuration for profile visualization</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Raises:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError">NotImplementedError</a></code>
            –
          <div class="doc-md-description">
            <p>If an unsupported output format is specified for a backend.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#AssertionError">AssertionError</a></code>
            –
          <div class="doc-md-description">
            <p>If RGB color values are invalid.</p>
          </div>
        </li>
    </ul>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>import argparse</p>
<h5 id="perprof.main.process_arguments--create-a-minimal-mock-args-object-full-args-object-would-be-much-larger">Create a minimal mock args object - full args object would be much larger<a class="headerlink" href="#perprof.main.process_arguments--create-a-minimal-mock-args-object-full-args-object-would-be-much-larger" title="Permanent link">&para;</a></h5>
<h5 id="perprof.main.process_arguments--this-demonstrates-the-functions-purpose-rather-than-testing-all-attributes">This demonstrates the function&rsquo;s purpose rather than testing all attributes<a class="headerlink" href="#perprof.main.process_arguments--this-demonstrates-the-functions-purpose-rather-than-testing-all-attributes" title="Permanent link">&para;</a></h5>
<p>pass  # Simplified example due to extensive argument requirements</p>
</blockquote>
</blockquote>
</blockquote>
</details>

            <details class="quote">
              <summary>Source code in <code>perprof/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">process_arguments</span><span class="p">(</span>
    <span class="n">args</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">Namespace</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">ParserOptions</span><span class="p">,</span> <span class="n">ProfilerOptions</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert command-line arguments into parser and profiler option dictionaries.</span>

<span class="sd">    Separates data processing options from visualization options and validates</span>
<span class="sd">    backend/format compatibility.</span>

<span class="sd">    Args:</span>
<span class="sd">        args (argparse.Namespace): Parsed command-line arguments from argparse.</span>

<span class="sd">    Returns:</span>
<span class="sd">        tuple[ParserOptions, ProfilerOptions]: A tuple containing:</span>
<span class="sd">            - ParserOptions: Configuration for data parsing and processing</span>
<span class="sd">            - ProfilerOptions: Configuration for profile visualization</span>

<span class="sd">    Raises:</span>
<span class="sd">        NotImplementedError: If an unsupported output format is specified for a backend.</span>
<span class="sd">        AssertionError: If RGB color values are invalid.</span>

<span class="sd">    Example:</span>
<span class="sd">        &gt;&gt;&gt; import argparse</span>
<span class="sd">        &gt;&gt;&gt; # Create a minimal mock args object - full args object would be much larger</span>
<span class="sd">        &gt;&gt;&gt; # This demonstrates the function&#39;s purpose rather than testing all attributes</span>
<span class="sd">        &gt;&gt;&gt; pass  # Simplified example due to extensive argument requirements</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">parser_options</span><span class="p">:</span> <span class="n">ParserOptions</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;free_format&quot;</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">free_format</span><span class="p">,</span>
        <span class="s2">&quot;files&quot;</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">file_name</span><span class="p">,</span>
        <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">success</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">),</span>
        <span class="s2">&quot;maxtime&quot;</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">maxtime</span><span class="p">,</span>
        <span class="s2">&quot;mintime&quot;</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">mintime</span><span class="p">,</span>
        <span class="s2">&quot;compare&quot;</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">compare</span><span class="p">,</span>
        <span class="s2">&quot;unc&quot;</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">unconstrained</span><span class="p">,</span>
        <span class="s2">&quot;infeas_tol&quot;</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">infeasibility_tolerance</span><span class="p">,</span>
        <span class="s2">&quot;subset&quot;</span><span class="p">:</span> <span class="p">[],</span>  <span class="c1"># Will be set below if args.subset exists</span>
    <span class="p">}</span>

    <span class="n">profiler_options</span><span class="p">:</span> <span class="n">ProfilerOptions</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;lang&quot;</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">lang</span><span class="p">,</span>
        <span class="s2">&quot;cache&quot;</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">cache</span><span class="p">,</span>
        <span class="s2">&quot;files&quot;</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">file_name</span><span class="p">,</span>
        <span class="s2">&quot;force&quot;</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">force</span><span class="p">,</span>
        <span class="s2">&quot;standalone&quot;</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">standalone</span><span class="p">,</span>
        <span class="s2">&quot;semilog&quot;</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">semilog</span><span class="p">,</span>
        <span class="s2">&quot;black_and_white&quot;</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">black_and_white</span><span class="p">,</span>
        <span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">output</span><span class="p">,</span>
        <span class="s2">&quot;pgfplot_version&quot;</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">pgfplotcompat</span><span class="p">,</span>
        <span class="s2">&quot;tau&quot;</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">tau</span><span class="p">,</span>
        <span class="s2">&quot;pdf_verbose&quot;</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">pdf_verbose</span><span class="p">,</span>
        <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
        <span class="s2">&quot;xlabel&quot;</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">xlabel</span><span class="p">,</span>
        <span class="s2">&quot;ylabel&quot;</span><span class="p">:</span> <span class="n">args</span><span class="o">.</span><span class="n">ylabel</span><span class="p">,</span>
        <span class="s2">&quot;background&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>  <span class="c1"># Will be set below if args.background exists</span>
        <span class="s2">&quot;page_background&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>  <span class="c1"># Will be set below if args.page_background exists</span>
        <span class="s2">&quot;output_format&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>  <span class="c1"># Will be set below based on args</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">no_title</span><span class="p">:</span>
        <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">background</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;background&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Set a tuple of integer</span>
        <span class="n">background_tuple</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">args</span><span class="o">.</span><span class="n">background</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">))</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">background_tuple</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;RGB for background must have 3 integers&quot;</span><span class="p">)</span>
        <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;background&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">background_tuple</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">page_background</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;page_background&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">page_background_tuple</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">args</span><span class="o">.</span><span class="n">page_background</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">))</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">page_background_tuple</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span>
            <span class="s2">&quot;RGB for page background must have 3 integers&quot;</span>
        <span class="p">)</span>
        <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;page_background&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">page_background_tuple</span>

    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">html</span><span class="p">:</span>
        <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output_format&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;html&quot;</span>
    <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">eps</span><span class="p">:</span>
        <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output_format&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;eps&quot;</span>
    <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">pdf</span><span class="p">:</span>
        <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output_format&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;pdf&quot;</span>
    <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">png</span><span class="p">:</span>
        <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output_format&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;png&quot;</span>
    <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">ps</span><span class="p">:</span>
        <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output_format&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;ps&quot;</span>
    <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">svg</span><span class="p">:</span>
        <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output_format&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;svg&quot;</span>
    <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">tex</span><span class="p">:</span>
        <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output_format&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;tex&quot;</span>
    <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">bokeh</span><span class="p">:</span>
        <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output_format&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;html&quot;</span>
    <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">mp</span><span class="p">:</span>
        <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output_format&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;png&quot;</span>
    <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">tikz</span><span class="p">:</span>
        <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output_format&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;pdf&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output_format&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">output_format</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output_format&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">bokeh</span> <span class="ow">and</span> <span class="n">output_format</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">SUPPORT_BOKEH</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Output option </span><span class="si">{}</span><span class="s2"> not supported by bokeh&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">output_format</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="k">if</span> <span class="n">output_format</span> <span class="k">else</span> <span class="s2">&quot;None&quot;</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">mp</span> <span class="ow">and</span> <span class="n">output_format</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">SUPPORT_MP</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Output option </span><span class="si">{}</span><span class="s2"> not supported by matplotlib&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">output_format</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="k">if</span> <span class="n">output_format</span> <span class="k">else</span> <span class="s2">&quot;None&quot;</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">tikz</span> <span class="ow">and</span> <span class="n">output_format</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">SUPPORT_TIKZ</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Output option </span><span class="si">{}</span><span class="s2"> not supported by TikZ&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">output_format</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="k">if</span> <span class="n">output_format</span> <span class="k">else</span> <span class="s2">&quot;None&quot;</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">raw</span> <span class="ow">and</span> <span class="n">output_format</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;--raw does not support output except standard output&quot;</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">table</span> <span class="ow">and</span> <span class="n">output_format</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;--table only write to .tex or to standard output&quot;</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">subset</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">subset</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">subset_file</span><span class="p">:</span>
            <span class="n">parser_options</span><span class="p">[</span><span class="s2">&quot;subset&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">subset_file</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parser_options</span><span class="p">[</span><span class="s2">&quot;subset&quot;</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;ERROR: Subset is empty&quot;</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">parser_options</span><span class="p">,</span> <span class="n">profiler_options</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="perprof.main.set_arguments" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">perprof</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">set_arguments</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></code>

<a href="#perprof.main.set_arguments" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Parse and validate command-line arguments for perprof.</p>
<p>Defines the CLI argument parser with backend options, output formats,
and data processing parameters.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>args</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>)
          –
          <div class="doc-md-description">
            <p>Command-line arguments (typically sys.argv[1:]).</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" title="argparse.Namespace" href="https://docs.python.org/3/library/argparse.html#argparse.Namespace">Namespace</a></code>
          –
          <div class="doc-md-description">
            <p>argparse.Namespace: Parsed and validated arguments ready for processing.</p>
          </div>
        </li>
    </ul>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<h5 id="perprof.main.set_arguments--parse-arguments-for-bokeh-output">Parse arguments for Bokeh output<a class="headerlink" href="#perprof.main.set_arguments--parse-arguments-for-bokeh-output" title="Permanent link">&para;</a></h5>
<p>args = set_arguments([&ldquo;&ndash;bokeh&rdquo;, &ldquo;data1.txt&rdquo;, &ldquo;data2.txt&rdquo;, &ldquo;-o&rdquo;, &ldquo;out.html&rdquo;])
args.bokeh
True
args.file_name
[&lsquo;data1.txt&rsquo;, &lsquo;data2.txt&rsquo;]
args.output
&lsquo;out.html&rsquo;</p>
</blockquote>
</blockquote>
</blockquote>
</details>

            <details class="quote">
              <summary>Source code in <code>perprof/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_arguments</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">argparse</span><span class="o">.</span><span class="n">Namespace</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse and validate command-line arguments for perprof.</span>

<span class="sd">    Defines the CLI argument parser with backend options, output formats,</span>
<span class="sd">    and data processing parameters.</span>

<span class="sd">    Args:</span>
<span class="sd">        args (list[str]): Command-line arguments (typically sys.argv[1:]).</span>

<span class="sd">    Returns:</span>
<span class="sd">        argparse.Namespace: Parsed and validated arguments ready for processing.</span>

<span class="sd">    Example:</span>
<span class="sd">        &gt;&gt;&gt; # Parse arguments for Bokeh output</span>
<span class="sd">        &gt;&gt;&gt; args = set_arguments([&quot;--bokeh&quot;, &quot;data1.txt&quot;, &quot;data2.txt&quot;, &quot;-o&quot;, &quot;out.html&quot;])</span>
<span class="sd">        &gt;&gt;&gt; args.bokeh</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; args.file_name</span>
<span class="sd">        [&#39;data1.txt&#39;, &#39;data2.txt&#39;]</span>
<span class="sd">        &gt;&gt;&gt; args.output</span>
<span class="sd">        &#39;out.html&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="n">_</span><span class="p">(</span>
            <span class="s2">&quot;A python module for performance profiling &quot;</span>
            <span class="s2">&quot;(as described by Dolan and Moré).&quot;</span>
        <span class="p">),</span>
        <span class="n">fromfile_prefix_chars</span><span class="o">=</span><span class="s2">&quot;@&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">backend_args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">add_argument_group</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Backend options&quot;</span><span class="p">))</span>
    <span class="n">backend</span> <span class="o">=</span> <span class="n">backend_args</span><span class="o">.</span><span class="n">add_mutually_exclusive_group</span><span class="p">(</span><span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">backend</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--bokeh&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Use bokeh as backend for the plot. Default output: HTML&quot;</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">backend</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--mp&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Use matplotlib as backend for the plot. Default output: PNG&quot;</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">backend</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--tikz&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Use LaTex/TikZ/pgfplots as backend for the plot. Default output: PDF&quot;</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">backend</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--raw&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Print raw data. Default output: standard output&quot;</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">backend</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--table&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Print table of robustness and efficiency&quot;</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="n">output_format_args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">add_argument_group</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Output formats&quot;</span><span class="p">))</span>
    <span class="n">output_format</span> <span class="o">=</span> <span class="n">output_format_args</span><span class="o">.</span><span class="n">add_mutually_exclusive_group</span><span class="p">()</span>
    <span class="n">output_format</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--html&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;The output file will be a HTML file&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">output_format</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--eps&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;The output file will be a EPS file&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">output_format</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--pdf&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;The output file will be a PDF file&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">output_format</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--png&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;The output file will be a PNG file&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">output_format</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--ps&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;The output file will be a PS file&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">output_format</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--svg&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;The output file will be a SVG file&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">output_format</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--tex&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;The output file will be a (La)TeX file&quot;</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="n">tikz_options</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">add_argument_group</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;TikZ options&quot;</span><span class="p">))</span>
    <span class="n">tikz_options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--standalone&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span>
            <span class="s2">&quot;Create the header as a standalone to the tex file, &quot;</span>
            <span class="s2">&quot;enabling compilation of the result&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">tikz_options</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--pgfplotcompat&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Set pgfplots backwards compatibility mode to given version&quot;</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--lang&quot;</span><span class="p">,</span>
        <span class="s2">&quot;-l&quot;</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;en&quot;</span><span class="p">,</span> <span class="s2">&quot;pt_BR&quot;</span><span class="p">],</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;en&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Set language for plot&quot;</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--free-format&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;When parsing file handle all non `c` character as `d`&quot;</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--pdf-verbose&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Print output of pdflatex&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--black-and-white&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Use only black color.&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--background&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span>
            <span class="s2">&quot;RGB values separated by commas for the background color &quot;</span>
            <span class="s2">&quot;of the plot. (Values in the 0,255 range)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--page-background&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span>
            <span class="s2">&quot;RGB values separated by commas for the background color &quot;</span>
            <span class="s2">&quot;of the page. (Values in the 0,255 range)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--semilog&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Use logarithmic scale for the x axis of the plot&quot;</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--success&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span>
            <span class="s2">&quot;Flags that are interpreted as success, separated by commas.  Default: `c`&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--maxtime&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">),</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span>
            <span class="s2">&quot;Sets a maximum time for a solved problem. Any problem with a &quot;</span>
            <span class="s2">&quot;time greater than this will be considered failed.&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--mintime&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span>
            <span class="s2">&quot;Sets a minimum time for a solved problem. Any problem with a &quot;</span>
            <span class="s2">&quot;time smaller than this will have the time set to this.&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--compare&quot;</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;exitflag&quot;</span><span class="p">,</span> <span class="s2">&quot;optimalvalues&quot;</span><span class="p">],</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;exitflag&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Choose the type of comparison to be made.&quot;</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--unconstrained&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span>
            <span class="s2">&quot;Set the problems to unconstrained, which implies that there &quot;</span>
            <span class="s2">&quot;is no primal feasibility to check.&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--infeasibility-tolerance&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="mf">1e-4</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Tolerance for the primal and dual infeasibilities&quot;</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--title&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Performance Profile&quot;</span><span class="p">),</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Set the title to be show on top of the performance profile&quot;</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--no-title&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Removes title&quot;</span><span class="p">))</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--xlabel&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Performance ratio&quot;</span><span class="p">),</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Set the x label of the performance profile&quot;</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--ylabel&quot;</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Percentage of problems solved&quot;</span><span class="p">),</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Set the y label of the performance profile&quot;</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;-c&quot;</span><span class="p">,</span> <span class="s2">&quot;--cache&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable cache.&quot;</span><span class="p">))</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-s&quot;</span><span class="p">,</span> <span class="s2">&quot;--subset&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Name of a file with a subset of problems to compare&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--tau&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Limit the x-axis based this value&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-f&quot;</span><span class="p">,</span> <span class="s2">&quot;--force&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Force overwrite the output file&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-o&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--output&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Name of the file to use as output (the correct extension will be add)&quot;</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="c1"># Logging options</span>
    <span class="n">logging_group</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">add_argument_group</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Logging options&quot;</span><span class="p">))</span>
    <span class="n">logging_group</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-v&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--verbose&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable verbose output (INFO level)&quot;</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">logging_group</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--debug&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Enable debug output (DEBUG level)&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">logging_group</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--log-file&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Write log output to specified file&quot;</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--demo&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Use examples files as input&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;file_name&quot;</span><span class="p">,</span>
        <span class="n">nargs</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="n">_</span><span class="p">(</span>
            <span class="s2">&quot;The name of the files to be used for &quot;</span>
            <span class="s2">&quot;the performance profiling (for demo use `--demo`)&quot;</span>
        <span class="p">),</span>
    <span class="p">)</span>

    <span class="n">parsed_args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

    <span class="c1"># Set input files for demo</span>
    <span class="k">if</span> <span class="n">parsed_args</span><span class="o">.</span><span class="n">demo</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">parsed_args</span><span class="o">.</span><span class="n">file_name</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;Using demo mode. Ignoring input files.&quot;</span><span class="p">),</span> <span class="ne">UserWarning</span><span class="p">)</span>
        <span class="n">parsed_args</span><span class="o">.</span><span class="n">file_name</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">THIS_DIR</span><span class="p">,</span> <span class="s2">&quot;examples/alpha.table&quot;</span><span class="p">),</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">THIS_DIR</span><span class="p">,</span> <span class="s2">&quot;examples/beta.table&quot;</span><span class="p">),</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">THIS_DIR</span><span class="p">,</span> <span class="s2">&quot;examples/gamma.table&quot;</span><span class="p">),</span>
        <span class="p">]</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">parsed_args</span><span class="o">.</span><span class="n">file_name</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;You must provide at least two input files.&quot;</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">parsed_args</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="perprof.main.setup_logging" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">perprof</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">setup_logging</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">log_file</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#perprof.main.setup_logging" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Configure logging for the application.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>verbose</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>Enable INFO level logging</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>debug</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>Enable DEBUG level logging (overrides verbose)</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>log_file</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | None</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Optional file path for logging output</p>
          </div>
        </li>
    </ul>


            <details class="quote">
              <summary>Source code in <code>perprof/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">setup_logging</span><span class="p">(</span>
    <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">log_file</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Configure logging for the application.</span>

<span class="sd">    Args:</span>
<span class="sd">        verbose: Enable INFO level logging</span>
<span class="sd">        debug: Enable DEBUG level logging (overrides verbose)</span>
<span class="sd">        log_file: Optional file path for logging output</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Determine logging level</span>
    <span class="k">if</span> <span class="n">debug</span><span class="p">:</span>
        <span class="n">level</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span>
    <span class="k">elif</span> <span class="n">verbose</span><span class="p">:</span>
        <span class="n">level</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">INFO</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">level</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span>

    <span class="c1"># Create formatter</span>
    <span class="n">formatter</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="s2">&quot;[</span><span class="si">%(levelname)s</span><span class="s2">] </span><span class="si">%(name)s</span><span class="s2">: </span><span class="si">%(message)s</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Configure root logger</span>
    <span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;perprof&quot;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>

    <span class="c1"># Remove existing handlers to avoid duplicates</span>
    <span class="k">for</span> <span class="n">handler</span> <span class="ow">in</span> <span class="n">logger</span><span class="o">.</span><span class="n">handlers</span><span class="p">[:]:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">removeHandler</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span>

    <span class="c1"># Console handler</span>
    <span class="n">console_handler</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
    <span class="n">console_handler</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">formatter</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">console_handler</span><span class="p">)</span>

    <span class="c1"># File handler if specified</span>
    <span class="k">if</span> <span class="n">log_file</span><span class="p">:</span>
        <span class="n">file_handler</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="n">log_file</span><span class="p">)</span>
        <span class="n">file_handler</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">formatter</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">file_handler</span><span class="p">)</span>

    <span class="c1"># Prevent propagation to root logger</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">propagate</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h2 id="file-parse">File parse<a class="headerlink" href="#file-parse" title="Permanent link">&para;</a></h2>


<div class="doc doc-object doc-module">



<a id="perprof.parse"></a>
    <div class="doc doc-contents first">

        <p>Functions to parse the files.</p>
<p>The files must be in the following format::</p>
<pre><code>---
&lt;Metadata 01&gt;: &lt;Value 01&gt;
&lt;Metadata 02&gt;: &lt;Value 02&gt;
---
&lt;Problem Name 01&gt; &lt;Exit Flag 01&gt; &lt;Cost 01&gt;
&lt;Problem Name 02&gt; &lt;Exit Flag 02&gt; &lt;Cost 02&gt;
&lt;Problem Name 03&gt; &lt;Exit Flag 03&gt; &lt;Cost 03&gt;
...
</code></pre>









  <div class="doc doc-children">







<h3 id="perprof.parse-functions">Functions<a href="#perprof.parse-functions" class="headerlink" title="Permanent link">&para;</a></h3>

<div class="doc doc-object doc-function">


<h4 id="perprof.parse.parse_file" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">perprof</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">parse_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">parser_options</span><span class="p">)</span></code>

<a href="#perprof.parse.parse_file" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Parse one file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>filename</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          –
          <div class="doc-md-description">
            <p>name of the file to be parser</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>parser_options</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>)
          –
          <div class="doc-md-description">
            <p>dictionary with the following keys:</p>
<ul>
<li>subset (list): list with the name of the problems to use</li>
<li>success (list): list with strings to mark sucess</li>
<li>mintime (float): minimum time running the solver</li>
<li>maxtime (float): maximum time running the solver</li>
</ul>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>bool</code></b>
              (<code><span title="free_format">free_format</span></code>)
          –
          <div class="doc-md-description">
            <p>if False request that fail be mark with <code>d</code></p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<b><code>data</code></b> (              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
)          –
          <div class="doc-md-description">
            <p>performance profile data</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
<b><code>algname</code></b> (              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
)          –
          <div class="doc-md-description">
            <p>name of the solver</p>
          </div>
        </li>
    </ul>


            <details class="quote">
              <summary>Source code in <code>perprof/parse.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">parse_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">parser_options</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse one file.</span>

<span class="sd">    Args:</span>
<span class="sd">        filename (str): name of the file to be parser</span>
<span class="sd">        parser_options (dict):</span>
<span class="sd">            dictionary with the following keys:</span>

<span class="sd">            - subset (list): list with the name of the problems to use</span>
<span class="sd">            - success (list): list with strings to mark sucess</span>
<span class="sd">            - mintime (float): minimum time running the solver</span>
<span class="sd">            - maxtime (float): maximum time running the solver</span>
<span class="sd">        bool free_format: if False request that fail be mark with ``d``</span>

<span class="sd">    Returns:</span>
<span class="sd">        data (dict): performance profile data</span>
<span class="sd">        algname (str): name of the solver</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">options</span> <span class="o">=</span> <span class="n">parser_options</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">options</span><span class="p">[</span><span class="s2">&quot;algname&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_str_sanitize</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    <span class="n">colopts</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;exit&quot;</span><span class="p">,</span> <span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="s2">&quot;fval&quot;</span><span class="p">,</span> <span class="s2">&quot;primal&quot;</span><span class="p">,</span> <span class="s2">&quot;dual&quot;</span><span class="p">]</span>
    <span class="n">col</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">colopt</span> <span class="ow">in</span> <span class="n">colopts</span><span class="p">:</span>
        <span class="c1"># Columns starts at 1 but indexing at 0</span>
        <span class="n">options</span><span class="p">[</span><span class="s2">&quot;col_&quot;</span> <span class="o">+</span> <span class="n">colopt</span><span class="p">]</span> <span class="o">=</span> <span class="n">colopts</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">colopt</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">col</span><span class="p">[</span><span class="n">colopt</span><span class="p">]</span> <span class="o">=</span> <span class="n">colopts</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">colopt</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_</span><span class="p">:</span>
        <span class="n">line_number</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">in_yaml</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">yaml_header</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">file_</span><span class="p">:</span>
            <span class="n">line_number</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">ldata</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ldata</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">continue</span>  <span class="c1"># Empty line</span>
            <span class="c1"># This is for backward compatibility</span>
            <span class="k">if</span> <span class="n">ldata</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;#Name&quot;</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">ldata</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">options</span><span class="p">[</span><span class="s2">&quot;algname&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_str_sanitize</span><span class="p">(</span><span class="n">ldata</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="c1"># Handle YAML</span>
            <span class="k">elif</span> <span class="n">ldata</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;---&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">in_yaml</span><span class="p">:</span>
                    <span class="n">_parse_yaml</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">yaml_header</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">colopt</span> <span class="ow">in</span> <span class="n">colopts</span><span class="p">:</span>
                        <span class="c1"># Columns starts at 1 but indexing at 0</span>
                        <span class="n">col</span><span class="p">[</span><span class="n">colopt</span><span class="p">]</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;col_&quot;</span> <span class="o">+</span> <span class="n">colopt</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
                    <span class="n">in_yaml</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">in_yaml</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">elif</span> <span class="n">in_yaml</span><span class="p">:</span>
                <span class="n">yaml_header</span> <span class="o">+=</span> <span class="n">line</span>
            <span class="c1"># Parse data</span>
            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">ldata</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="n">_error_message</span><span class="p">(</span>
                        <span class="n">filename</span><span class="p">,</span>
                        <span class="n">line_number</span><span class="p">,</span>
                        <span class="n">_</span><span class="p">(</span><span class="s2">&quot;This line must have at least 2 elements.&quot;</span><span class="p">),</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ldata</span><span class="p">[</span><span class="n">col</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">_str_sanitize</span><span class="p">(</span><span class="n">ldata</span><span class="p">[</span><span class="n">col</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]])</span>
                <span class="n">pname</span> <span class="o">=</span> <span class="n">ldata</span><span class="p">[</span><span class="n">col</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span>
                <span class="k">if</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;subset&quot;</span><span class="p">]</span> <span class="ow">and</span> <span class="n">pname</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;subset&quot;</span><span class="p">]:</span>
                    <span class="k">continue</span>
                <span class="k">if</span> <span class="n">pname</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                        <span class="n">_error_message</span><span class="p">(</span>
                            <span class="n">filename</span><span class="p">,</span>
                            <span class="n">line_number</span><span class="p">,</span>
                            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Duplicated problem: &quot;</span><span class="p">)</span> <span class="o">+</span> <span class="n">pname</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">time</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">ldata</span><span class="p">[</span><span class="n">col</span><span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]])</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                        <span class="n">_error_message</span><span class="p">(</span>
                            <span class="n">filename</span><span class="p">,</span>
                            <span class="n">line_number</span><span class="p">,</span>
                            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Problem has no time/cost: &quot;</span><span class="p">)</span> <span class="o">+</span> <span class="n">pname</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">exc</span>
                <span class="k">if</span> <span class="n">time</span> <span class="o">&lt;</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;mintime&quot;</span><span class="p">]:</span>
                    <span class="n">time</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;mintime&quot;</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;maxtime&quot;</span><span class="p">]:</span>
                    <span class="k">continue</span>
                <span class="k">if</span> <span class="n">parser_options</span><span class="p">[</span><span class="s2">&quot;compare&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;optimalvalues&quot;</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">parser_options</span><span class="p">[</span><span class="s2">&quot;unc&quot;</span><span class="p">]:</span>
                            <span class="n">primal</span> <span class="o">=</span> <span class="mf">0.0</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">primal</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">ldata</span><span class="p">[</span><span class="n">col</span><span class="p">[</span><span class="s2">&quot;primal&quot;</span><span class="p">]])</span>
                        <span class="n">dual</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">ldata</span><span class="p">[</span><span class="n">col</span><span class="p">[</span><span class="s2">&quot;dual&quot;</span><span class="p">]])</span>
                    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                            <span class="n">_error_message</span><span class="p">(</span>
                                <span class="n">filename</span><span class="p">,</span>
                                <span class="n">line_number</span><span class="p">,</span>
                                <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Column for primal or dual is out of bounds&quot;</span><span class="p">),</span>
                            <span class="p">)</span>
                        <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">exc</span>
                    <span class="k">if</span> <span class="nb">max</span><span class="p">(</span><span class="n">primal</span><span class="p">,</span> <span class="n">dual</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">parser_options</span><span class="p">[</span><span class="s2">&quot;infeas_tol&quot;</span><span class="p">]:</span>
                        <span class="k">continue</span>
                    <span class="n">data</span><span class="p">[</span><span class="n">pname</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="n">time</span><span class="p">,</span> <span class="s2">&quot;fval&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">)}</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">data</span><span class="p">[</span><span class="n">pname</span><span class="p">][</span><span class="s2">&quot;fval&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">ldata</span><span class="p">[</span><span class="n">col</span><span class="p">[</span><span class="s2">&quot;fval&quot;</span><span class="p">]])</span>
                    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                            <span class="n">_error_message</span><span class="p">(</span>
                                <span class="n">filename</span><span class="p">,</span>
                                <span class="n">line_number</span><span class="p">,</span>
                                <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Column for fval is out of bounds&quot;</span><span class="p">),</span>
                            <span class="p">)</span>
                        <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">exc</span>
                <span class="k">elif</span> <span class="n">parser_options</span><span class="p">[</span><span class="s2">&quot;compare&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;exitflag&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">time</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                            <span class="n">_error_message</span><span class="p">(</span>
                                <span class="n">filename</span><span class="p">,</span> <span class="n">line_number</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Time spending can&#39;t be zero.&quot;</span><span class="p">)</span>
                            <span class="p">)</span>
                        <span class="p">)</span>
                    <span class="k">if</span> <span class="n">ldata</span><span class="p">[</span><span class="n">col</span><span class="p">[</span><span class="s2">&quot;exit&quot;</span><span class="p">]]</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;success&quot;</span><span class="p">]:</span>
                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ldata</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
                            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                                <span class="n">_error_message</span><span class="p">(</span>
                                    <span class="n">filename</span><span class="p">,</span>
                                    <span class="n">line_number</span><span class="p">,</span>
                                    <span class="n">_</span><span class="p">(</span><span class="s2">&quot;This line must have at least 3 elements.&quot;</span><span class="p">),</span>
                                <span class="p">)</span>
                            <span class="p">)</span>
                        <span class="n">data</span><span class="p">[</span><span class="n">pname</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="n">time</span><span class="p">,</span> <span class="s2">&quot;fval&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">)}</span>
                    <span class="k">elif</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;free_format&quot;</span><span class="p">]</span> <span class="ow">or</span> <span class="n">ldata</span><span class="p">[</span><span class="n">col</span><span class="p">[</span><span class="s2">&quot;exit&quot;</span><span class="p">]]</span> <span class="o">==</span> <span class="s2">&quot;d&quot;</span><span class="p">:</span>
                        <span class="n">data</span><span class="p">[</span><span class="n">pname</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">),</span> <span class="s2">&quot;fval&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">)}</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                            <span class="n">_error_message</span><span class="p">(</span>
                                <span class="n">filename</span><span class="p">,</span>
                                <span class="n">line_number</span><span class="p">,</span>
                                <span class="n">_</span><span class="p">(</span>
                                    <span class="s2">&quot;The second element in this lime must be </span><span class="si">{}</span><span class="s2"> or d.&quot;</span>
                                <span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;success&quot;</span><span class="p">])),</span>
                            <span class="p">)</span>
                        <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                        <span class="n">_</span><span class="p">(</span>
                            <span class="s2">&quot;The parser option &#39;compare&#39; should be &quot;</span>
                            <span class="s2">&quot;&#39;exitflag&#39; or &#39;optimalvalues&#39;&quot;</span>
                        <span class="p">)</span>
                    <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ERROR: List of problems (intersected with subset, if any) is empty&quot;</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">data</span><span class="p">,</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;algname&quot;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h2 id="profile-interface">Profile interface<a class="headerlink" href="#profile-interface" title="Permanent link">&para;</a></h2>


<div class="doc doc-object doc-module">



<a id="perprof.prof"></a>
    <div class="doc doc-contents first">

        <p>The functions related with the perform (not the output).</p>









  <div class="doc doc-children">






<h3 id="perprof.prof-classes">Classes<a href="#perprof.prof-classes" class="headerlink" title="Permanent link">&para;</a></h3>

<div class="doc doc-object doc-class">



<h4 id="perprof.prof.Pdata" class="doc doc-heading">
            <code>perprof.prof.Pdata</code>


<a href="#perprof.prof.Pdata" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">


        <p>Store data for performance profile.</p>







              <details class="quote">
                <summary>Source code in <code>perprof/prof.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Pdata</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Store data for performance profile.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parser_options</span><span class="p">,</span> <span class="n">profiler_options</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize Pdata.</span>

<span class="sd">        Args:</span>
<span class="sd">            parser_options (dict): parser configuration.</span>
<span class="sd">            profiler_options (dict): profiler configuration</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">load_data</span><span class="p">(</span><span class="n">parser_options</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;cache&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">force</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;force&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">semilog</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;semilog&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">black_and_white</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;black_and_white&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;background&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">page_background</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;page_background&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pdf_verbose</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;pdf_verbose&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_format</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output_format&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pgfplot_version</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;pgfplot_version&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tau</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;tau&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xlabel</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;xlabel&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ylabel</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;ylabel&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">already_scaled</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tablename</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output&quot;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">solvers</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">problems</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">v</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number_problems</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">problems</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a representation of the Pdata object.&quot;&quot;&quot;</span>
        <span class="n">str2output</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="mi">18</span>

        <span class="k">for</span> <span class="n">solver</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">:</span>
            <span class="n">str2output</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">solver</span><span class="p">[</span><span class="o">-</span><span class="mi">16</span><span class="p">:]</span><span class="si">:</span><span class="s2">&gt;16</span><span class="si">}</span><span class="s2">  &quot;</span>
        <span class="n">str2output</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>

        <span class="k">for</span> <span class="n">problem</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">problems</span><span class="p">:</span>
            <span class="n">str2output</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">problem</span><span class="si">:</span><span class="s2">&gt;16</span><span class="si">}</span><span class="s2">  &quot;</span>
            <span class="k">for</span> <span class="n">solver</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">str2output</span> <span class="o">+=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="mi">8</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="n">problem</span><span class="p">][</span><span class="s1">&#39;time&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">8.4</span><span class="si">}</span><span class="s2"> &quot;</span>
                <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                    <span class="n">str2output</span> <span class="o">+=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="mi">13</span> <span class="o">+</span> <span class="s2">&quot;inf  &quot;</span>
            <span class="n">str2output</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>

        <span class="k">return</span> <span class="n">str2output</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_set_solvers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the set of solvers to use.</span>

<span class="sd">        Returns:</span>
<span class="sd">            solvers (list[dict]): list of solvers</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">solvers</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_set_problems</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the set of problems to use.</span>

<span class="sd">        Returns:</span>
<span class="sd">            problems (list[str]): list of problems</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">problems</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Scale time.&quot;&quot;&quot;</span>
        <span class="n">times_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">problem</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">problems</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">solver</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="n">problem</span><span class="p">][</span><span class="s2">&quot;time&quot;</span><span class="p">]</span>
                <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="n">problem</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">),</span>
                        <span class="s2">&quot;fval&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">),</span>
                    <span class="p">}</span>

            <span class="n">min_fval</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="n">problem</span><span class="p">][</span><span class="s2">&quot;fval&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">min_fval</span> <span class="o">&lt;</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">):</span>
                <span class="n">min_time</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span>
                    <span class="n">v</span><span class="p">[</span><span class="n">problem</span><span class="p">][</span><span class="s2">&quot;time&quot;</span><span class="p">]</span>
                    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
                    <span class="k">if</span> <span class="n">v</span><span class="p">[</span><span class="n">problem</span><span class="p">][</span><span class="s2">&quot;fval&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">min_fval</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">min_fval</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1e-3</span> <span class="o">+</span> <span class="mf">1e-6</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">min_time</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="n">problem</span><span class="p">][</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

            <span class="k">for</span> <span class="n">solver</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="n">problem</span><span class="p">][</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="n">problem</span><span class="p">][</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">min_time</span>
                    <span class="p">)</span>
                <span class="k">except</span> <span class="ne">ZeroDivisionError</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="n">problem</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">)}</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="n">problem</span><span class="p">][</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">):</span>
                    <span class="n">times_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="n">problem</span><span class="p">][</span><span class="s2">&quot;time&quot;</span><span class="p">])</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">times_set</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;ERROR: problem set is empty&quot;</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">times</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">times_set</span><span class="p">)</span>
        <span class="n">maxt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">maxt</span> <span class="o">*</span> <span class="mf">1.05</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">already_scaled</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_percent_problems_solved_by_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the percent of problems solved by time.&quot;&quot;&quot;</span>
        <span class="c1"># ppsbt = Percent Problems Solved By Time</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">solver</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span><span class="p">[</span><span class="n">solver</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">time</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">:</span>
                <span class="n">aux</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="k">for</span> <span class="n">problem</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">problems</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="n">problem</span><span class="p">][</span><span class="s2">&quot;time&quot;</span><span class="p">]:</span>
                        <span class="n">aux</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span><span class="p">[</span><span class="n">solver</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">aux</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_problems</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ERROR:&quot;</span><span class="p">)</span>
                    <span class="o">+</span> <span class="n">solver</span>
                    <span class="o">+</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot; has no solved problems. Verify the &#39;success&#39; flag.&quot;</span><span class="p">)</span>
                <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">pre_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Run plot-related checks and processing.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">force</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">!=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ERROR: File </span><span class="si">{}</span><span class="s2"> exists.</span><span class="se">\n</span><span class="s2">Use `-f` to overwrite&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">already_scaled</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_percent_problems_solved_by_time</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate the plot.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">print_rob_eff_table</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Print table of robustness and efficiency.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">already_scaled</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_percent_problems_solved_by_time</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tablename</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">output</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Solvers    | Robust  | Effic&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">solver</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">:</span>
                <span class="n">robustness</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
                <span class="n">efficiency</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">solver</span><span class="si">:</span><span class="s2">10</span><span class="si">}</span><span class="s2"> | </span><span class="si">{</span><span class="n">robustness</span><span class="si">:</span><span class="s2">6.3f</span><span class="si">}</span><span class="s2">% | </span><span class="si">{</span><span class="n">efficiency</span><span class="si">:</span><span class="s2">6.3f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">output</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tablename</span><span class="si">}</span><span class="s2">.tex&quot;</span>
            <span class="n">output</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>

            <span class="n">str2output</span> <span class="o">=</span> <span class="p">[</span>
                <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">begin</span><span class="si">{tabular}</span><span class="s2">{|c|r|r|} </span><span class="se">\\</span><span class="s2">hline&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Solver &amp; Robustness &amp; Efficiency </span><span class="se">\\\\</span><span class="s2"> </span><span class="se">\\</span><span class="s2">hline&quot;</span><span class="p">,</span>
            <span class="p">]</span>
            <span class="k">for</span> <span class="n">solver</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">:</span>
                <span class="n">robustness</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
                <span class="n">efficiency</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
                <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">solver</span><span class="si">}</span><span class="s2"> &amp; </span><span class="si">{</span><span class="n">robustness</span><span class="si">}</span><span class="s2"> </span><span class="se">\\</span><span class="s2">% &amp; </span><span class="si">{</span><span class="n">efficiency</span><span class="si">}</span><span class="s2"> </span><span class="se">\\</span><span class="s2">% </span><span class="se">\\\\</span><span class="s2"> </span><span class="se">\\</span><span class="s2">hline&quot;</span>
                <span class="p">)</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">end</span><span class="si">{tabular}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_</span><span class="p">:</span>
                <span class="n">file_</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">str2output</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<h5 id="perprof.prof.Pdata-functions">Functions<a href="#perprof.prof.Pdata-functions" class="headerlink" title="Permanent link">&para;</a></h5>

<div class="doc doc-object doc-function">


<h6 id="perprof.prof.Pdata.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">parser_options</span><span class="p">,</span> <span class="n">profiler_options</span><span class="p">)</span></code>

<a href="#perprof.prof.Pdata.__init__" class="headerlink" title="Permanent link">&para;</a></h6>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>parser_options</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>)
          –
          <div class="doc-md-description">
            <p>parser configuration.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>profiler_options</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>)
          –
          <div class="doc-md-description">
            <p>profiler configuration</p>
          </div>
        </li>
    </ul>


            <details class="quote">
              <summary>Source code in <code>perprof/prof.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parser_options</span><span class="p">,</span> <span class="n">profiler_options</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize Pdata.</span>

<span class="sd">    Args:</span>
<span class="sd">        parser_options (dict): parser configuration.</span>
<span class="sd">        profiler_options (dict): profiler configuration</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">load_data</span><span class="p">(</span><span class="n">parser_options</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cache</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;cache&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">force</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;force&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">semilog</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;semilog&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">black_and_white</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;black_and_white&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;background&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">page_background</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;page_background&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pdf_verbose</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;pdf_verbose&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">output_format</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output_format&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pgfplot_version</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;pgfplot_version&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tau</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;tau&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">xlabel</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;xlabel&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ylabel</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;ylabel&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">already_scaled</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tablename</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output&quot;</span><span class="p">]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">solvers</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">problems</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">v</span><span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number_problems</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">problems</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="perprof.prof.Pdata.__repr__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__repr__</span><span class="p">()</span></code>

<a href="#perprof.prof.Pdata.__repr__" class="headerlink" title="Permanent link">&para;</a></h6>


    <div class="doc doc-contents ">

        <p>Return a representation of the Pdata object.</p>


            <details class="quote">
              <summary>Source code in <code>perprof/prof.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a representation of the Pdata object.&quot;&quot;&quot;</span>
    <span class="n">str2output</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="mi">18</span>

    <span class="k">for</span> <span class="n">solver</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">:</span>
        <span class="n">str2output</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">solver</span><span class="p">[</span><span class="o">-</span><span class="mi">16</span><span class="p">:]</span><span class="si">:</span><span class="s2">&gt;16</span><span class="si">}</span><span class="s2">  &quot;</span>
    <span class="n">str2output</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>

    <span class="k">for</span> <span class="n">problem</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">problems</span><span class="p">:</span>
        <span class="n">str2output</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">problem</span><span class="si">:</span><span class="s2">&gt;16</span><span class="si">}</span><span class="s2">  &quot;</span>
        <span class="k">for</span> <span class="n">solver</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">str2output</span> <span class="o">+=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="mi">8</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="n">problem</span><span class="p">][</span><span class="s1">&#39;time&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">8.4</span><span class="si">}</span><span class="s2"> &quot;</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="n">str2output</span> <span class="o">+=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="mi">13</span> <span class="o">+</span> <span class="s2">&quot;inf  &quot;</span>
        <span class="n">str2output</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>

    <span class="k">return</span> <span class="n">str2output</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="perprof.prof.Pdata.get_set_problems" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_set_problems</span><span class="p">()</span></code>

<a href="#perprof.prof.Pdata.get_set_problems" class="headerlink" title="Permanent link">&para;</a></h6>


    <div class="doc doc-contents ">

        <p>Get the set of problems to use.</p>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<b><code>problems</code></b> (              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>
)          –
          <div class="doc-md-description">
            <p>list of problems</p>
          </div>
        </li>
    </ul>


            <details class="quote">
              <summary>Source code in <code>perprof/prof.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_set_problems</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the set of problems to use.</span>

<span class="sd">    Returns:</span>
<span class="sd">        problems (list[str]): list of problems</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">problems</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="perprof.prof.Pdata.get_set_solvers" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_set_solvers</span><span class="p">()</span></code>

<a href="#perprof.prof.Pdata.get_set_solvers" class="headerlink" title="Permanent link">&para;</a></h6>


    <div class="doc doc-contents ">

        <p>Get the set of solvers to use.</p>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
<b><code>solvers</code></b> (              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a>]</code>
)          –
          <div class="doc-md-description">
            <p>list of solvers</p>
          </div>
        </li>
    </ul>


            <details class="quote">
              <summary>Source code in <code>perprof/prof.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_set_solvers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the set of solvers to use.</span>

<span class="sd">    Returns:</span>
<span class="sd">        solvers (list[dict]): list of solvers</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">solvers</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="perprof.prof.Pdata.plot" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">plot</span><span class="p">()</span></code>

<a href="#perprof.prof.Pdata.plot" class="headerlink" title="Permanent link">&para;</a></h6>


    <div class="doc doc-contents ">

        <p>Generate the plot.</p>


            <details class="quote">
              <summary>Source code in <code>perprof/prof.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate the plot.&quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="perprof.prof.Pdata.pre_plot" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pre_plot</span><span class="p">()</span></code>

<a href="#perprof.prof.Pdata.pre_plot" class="headerlink" title="Permanent link">&para;</a></h6>


    <div class="doc doc-contents ">

        <p>Run plot-related checks and processing.</p>


            <details class="quote">
              <summary>Source code in <code>perprof/prof.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">pre_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Run plot-related checks and processing.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">force</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">!=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ERROR: File </span><span class="si">{}</span><span class="s2"> exists.</span><span class="se">\n</span><span class="s2">Use `-f` to overwrite&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">already_scaled</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_percent_problems_solved_by_time</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="perprof.prof.Pdata.print_rob_eff_table" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">print_rob_eff_table</span><span class="p">()</span></code>

<a href="#perprof.prof.Pdata.print_rob_eff_table" class="headerlink" title="Permanent link">&para;</a></h6>


    <div class="doc doc-contents ">

        <p>Print table of robustness and efficiency.</p>


            <details class="quote">
              <summary>Source code in <code>perprof/prof.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">print_rob_eff_table</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Print table of robustness and efficiency.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">already_scaled</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_percent_problems_solved_by_time</span><span class="p">()</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tablename</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Solvers    | Robust  | Effic&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">solver</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">:</span>
            <span class="n">robustness</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
            <span class="n">efficiency</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">solver</span><span class="si">:</span><span class="s2">10</span><span class="si">}</span><span class="s2"> | </span><span class="si">{</span><span class="n">robustness</span><span class="si">:</span><span class="s2">6.3f</span><span class="si">}</span><span class="s2">% | </span><span class="si">{</span><span class="n">efficiency</span><span class="si">:</span><span class="s2">6.3f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">output</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">tablename</span><span class="si">}</span><span class="s2">.tex&quot;</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>

        <span class="n">str2output</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">begin</span><span class="si">{tabular}</span><span class="s2">{|c|r|r|} </span><span class="se">\\</span><span class="s2">hline&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Solver &amp; Robustness &amp; Efficiency </span><span class="se">\\\\</span><span class="s2"> </span><span class="se">\\</span><span class="s2">hline&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="k">for</span> <span class="n">solver</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">:</span>
            <span class="n">robustness</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
            <span class="n">efficiency</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">solver</span><span class="si">}</span><span class="s2"> &amp; </span><span class="si">{</span><span class="n">robustness</span><span class="si">}</span><span class="s2"> </span><span class="se">\\</span><span class="s2">% &amp; </span><span class="si">{</span><span class="n">efficiency</span><span class="si">}</span><span class="s2"> </span><span class="se">\\</span><span class="s2">% </span><span class="se">\\\\</span><span class="s2"> </span><span class="se">\\</span><span class="s2">hline&quot;</span>
            <span class="p">)</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">end</span><span class="si">{tabular}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_</span><span class="p">:</span>
            <span class="n">file_</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">str2output</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="perprof.prof.Pdata.scale" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">scale</span><span class="p">()</span></code>

<a href="#perprof.prof.Pdata.scale" class="headerlink" title="Permanent link">&para;</a></h6>


    <div class="doc doc-contents ">

        <p>Scale time.</p>


            <details class="quote">
              <summary>Source code in <code>perprof/prof.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Scale time.&quot;&quot;&quot;</span>
    <span class="n">times_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">problem</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">problems</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">solver</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="n">problem</span><span class="p">][</span><span class="s2">&quot;time&quot;</span><span class="p">]</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="n">problem</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">),</span>
                    <span class="s2">&quot;fval&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">),</span>
                <span class="p">}</span>

        <span class="n">min_fval</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="n">problem</span><span class="p">][</span><span class="s2">&quot;fval&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">min_fval</span> <span class="o">&lt;</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">):</span>
            <span class="n">min_time</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span>
                <span class="n">v</span><span class="p">[</span><span class="n">problem</span><span class="p">][</span><span class="s2">&quot;time&quot;</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">v</span><span class="p">[</span><span class="n">problem</span><span class="p">][</span><span class="s2">&quot;fval&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">min_fval</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">min_fval</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1e-3</span> <span class="o">+</span> <span class="mf">1e-6</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">min_time</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="n">problem</span><span class="p">][</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

        <span class="k">for</span> <span class="n">solver</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="n">problem</span><span class="p">][</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="n">problem</span><span class="p">][</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">min_time</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="ne">ZeroDivisionError</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="n">problem</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">)}</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="n">problem</span><span class="p">][</span><span class="s2">&quot;time&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">):</span>
                <span class="n">times_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="n">problem</span><span class="p">][</span><span class="s2">&quot;time&quot;</span><span class="p">])</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">times_set</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">&quot;ERROR: problem set is empty&quot;</span><span class="p">))</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">times</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">times_set</span><span class="p">)</span>
    <span class="n">maxt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">maxt</span> <span class="o">*</span> <span class="mf">1.05</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">already_scaled</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="perprof.prof.Pdata.set_percent_problems_solved_by_time" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_percent_problems_solved_by_time</span><span class="p">()</span></code>

<a href="#perprof.prof.Pdata.set_percent_problems_solved_by_time" class="headerlink" title="Permanent link">&para;</a></h6>


    <div class="doc doc-contents ">

        <p>Set the percent of problems solved by time.</p>


            <details class="quote">
              <summary>Source code in <code>perprof/prof.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_percent_problems_solved_by_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set the percent of problems solved by time.&quot;&quot;&quot;</span>
    <span class="c1"># ppsbt = Percent Problems Solved By Time</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">solver</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span><span class="p">[</span><span class="n">solver</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">time</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">:</span>
            <span class="n">aux</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">problem</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">problems</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="n">problem</span><span class="p">][</span><span class="s2">&quot;time&quot;</span><span class="p">]:</span>
                    <span class="n">aux</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span><span class="p">[</span><span class="n">solver</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">aux</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_problems</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ERROR:&quot;</span><span class="p">)</span>
                <span class="o">+</span> <span class="n">solver</span>
                <span class="o">+</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot; has no solved problems. Verify the &#39;success&#39; flag.&quot;</span><span class="p">)</span>
            <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>
<h3 id="perprof.prof-functions">Functions<a href="#perprof.prof-functions" class="headerlink" title="Permanent link">&para;</a></h3>

<div class="doc doc-object doc-function">


<h4 id="perprof.prof.load_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">perprof</span><span class="o">.</span><span class="n">prof</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="n">parser_options</span><span class="p">)</span></code>

<a href="#perprof.prof.load_data" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

        <p>Load the data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>parser_options</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>)
          –
          <div class="doc-md-description">
            <p>the configuration dicionary</p>
          </div>
        </li>
    </ul>


            <details class="quote">
              <summary>Source code in <code>perprof/prof.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">load_data</span><span class="p">(</span><span class="n">parser_options</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Load the data.</span>

<span class="sd">    Args:</span>
<span class="sd">        parser_options (dict): the configuration dicionary</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">file_</span> <span class="ow">in</span> <span class="n">parser_options</span><span class="p">[</span><span class="s2">&quot;files&quot;</span><span class="p">]:</span>
        <span class="n">data_tmp</span><span class="p">,</span> <span class="n">solver_name</span> <span class="o">=</span> <span class="n">parse</span><span class="o">.</span><span class="n">parse_file</span><span class="p">(</span><span class="n">file_</span><span class="p">,</span> <span class="n">parser_options</span><span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="n">solver_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">data_tmp</span>
    <span class="k">return</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h2 id="profiler-using-tikz">Profiler using TikZ<a class="headerlink" href="#profiler-using-tikz" title="Permanent link">&para;</a></h2>


<div class="doc doc-object doc-module">



<a id="perprof.tikz"></a>
    <div class="doc doc-contents first">

        <p>Plot using tikz.</p>









  <div class="doc doc-children">






<h3 id="perprof.tikz-classes">Classes<a href="#perprof.tikz-classes" class="headerlink" title="Permanent link">&para;</a></h3>

<div class="doc doc-object doc-class">



<h4 id="perprof.tikz.Profiler" class="doc doc-heading">
            <code>perprof.tikz.Profiler</code>


<a href="#perprof.tikz.Profiler" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="perprof.prof.Pdata" href="#perprof.prof.Pdata">Pdata</a></code></p>


        <p>Performance profile generator using TikZ/PGFPlots for LaTeX integration.</p>
<p>Creates LaTeX-based performance profile plots using TikZ and PGFPlots.
Suitable for academic publications and technical reports.</p>
<p>Features:
- Vector graphics with scalability
- LaTeX document font consistency
- Mathematical notation support
- Standalone and embedded figure support</p>
<p>The profiler generates either standalone LaTeX documents or TikZ code that
can be embedded into larger documents. It supports both color and black-and-white
output with extensive line style and color customization.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><span title="perprof.tikz.Profiler.output">output</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | <span title="TextIO">TextIO</span></code>)
          –
          <div class="doc-md-description">
            <p>Output filename or file handle (stdout for None).</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="perprof.tikz.Profiler.standalone">standalone</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>)
          –
          <div class="doc-md-description">
            <p>Whether to generate standalone LaTeX document.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="perprof.tikz.Profiler.output_format">output_format</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          –
          <div class="doc-md-description">
            <p>Target format (&ldquo;tex&rdquo; or &ldquo;pdf&rdquo;).</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="perprof.tikz.Profiler.plot_lang">plot_lang</span></code></b>
              (<code><span title="function">function</span></code>)
          –
          <div class="doc-md-description">
            <p>Localization function for plot text.</p>
          </div>
        </li>
    </ul>


<details class="example" open>
  <summary>Example</summary>
  <p>Creating a TikZ profiler for publication-quality output:</p>
<pre><code class="language-python">from perprof.tikz import Profiler

parser_opts = {
    &quot;files&quot;: [&quot;solver1.txt&quot;, &quot;solver2.txt&quot;],
    &quot;success&quot;: [&quot;converged&quot;],
    &quot;free_format&quot;: True
}
profiler_opts = {
    &quot;output&quot;: &quot;publication_figure&quot;,
    &quot;output_format&quot;: &quot;pdf&quot;,
    &quot;standalone&quot;: True,
    &quot;black_and_white&quot;: False,
    &quot;title&quot;: &quot;Performance Profile Comparison&quot;,
    &quot;lang&quot;: &quot;en&quot;
}
profiler = Profiler(parser_opts, profiler_opts)
profiler.plot()  # Creates publication_figure.tex and compiles to PDF
</code></pre>
</details>






              <details class="quote">
                <summary>Source code in <code>perprof/tikz.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Profiler</span><span class="p">(</span><span class="n">prof</span><span class="o">.</span><span class="n">Pdata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Performance profile generator using TikZ/PGFPlots for LaTeX integration.</span>

<span class="sd">    Creates LaTeX-based performance profile plots using TikZ and PGFPlots.</span>
<span class="sd">    Suitable for academic publications and technical reports.</span>

<span class="sd">    Features:</span>
<span class="sd">    - Vector graphics with scalability</span>
<span class="sd">    - LaTeX document font consistency</span>
<span class="sd">    - Mathematical notation support</span>
<span class="sd">    - Standalone and embedded figure support</span>

<span class="sd">    The profiler generates either standalone LaTeX documents or TikZ code that</span>
<span class="sd">    can be embedded into larger documents. It supports both color and black-and-white</span>
<span class="sd">    output with extensive line style and color customization.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        output (str|TextIO): Output filename or file handle (stdout for None).</span>
<span class="sd">        standalone (bool): Whether to generate standalone LaTeX document.</span>
<span class="sd">        output_format (str): Target format (&quot;tex&quot; or &quot;pdf&quot;).</span>
<span class="sd">        plot_lang (function): Localization function for plot text.</span>

<span class="sd">    Example:</span>
<span class="sd">        Creating a TikZ profiler for publication-quality output:</span>

<span class="sd">        ```python</span>
<span class="sd">        from perprof.tikz import Profiler</span>

<span class="sd">        parser_opts = {</span>
<span class="sd">            &quot;files&quot;: [&quot;solver1.txt&quot;, &quot;solver2.txt&quot;],</span>
<span class="sd">            &quot;success&quot;: [&quot;converged&quot;],</span>
<span class="sd">            &quot;free_format&quot;: True</span>
<span class="sd">        }</span>
<span class="sd">        profiler_opts = {</span>
<span class="sd">            &quot;output&quot;: &quot;publication_figure&quot;,</span>
<span class="sd">            &quot;output_format&quot;: &quot;pdf&quot;,</span>
<span class="sd">            &quot;standalone&quot;: True,</span>
<span class="sd">            &quot;black_and_white&quot;: False,</span>
<span class="sd">            &quot;title&quot;: &quot;Performance Profile Comparison&quot;,</span>
<span class="sd">            &quot;lang&quot;: &quot;en&quot;</span>
<span class="sd">        }</span>
<span class="sd">        profiler = Profiler(parser_opts, profiler_opts)</span>
<span class="sd">        profiler.plot()  # Creates publication_figure.tex and compiles to PDF</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parser_options</span><span class="p">,</span> <span class="n">profiler_options</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize TikZ/PGFPlots-based performance profiler.</span>

<span class="sd">        Args:</span>
<span class="sd">            parser_options (dict): Data parsing configuration including:</span>
<span class="sd">                - files: List of solver data files to process</span>
<span class="sd">                - success: Success criteria for solver convergence</span>
<span class="sd">                - maxtime/mintime: Time filtering bounds</span>
<span class="sd">                - compare: Performance metric to compare (default: &quot;time&quot;)</span>
<span class="sd">                - subset: Optional problem subset restriction</span>
<span class="sd">            profiler_options (dict): Visualization configuration including:</span>
<span class="sd">                - output: Output filename prefix (None for stdout)</span>
<span class="sd">                - output_format: Target format (&quot;tex&quot; or &quot;pdf&quot;)</span>
<span class="sd">                - standalone: Generate standalone LaTeX document</span>
<span class="sd">                - black_and_white: Use monochrome line styles</span>
<span class="sd">                - semilog: Use logarithmic x-axis scaling</span>
<span class="sd">                - lang: Language for plot labels</span>
<span class="sd">                - title/xlabel/ylabel: Plot text customization</span>
<span class="sd">                - pgfplot_version: PGFPlots compatibility version</span>
<span class="sd">                - background/page_background: Color customization</span>

<span class="sd">        Note:</span>
<span class="sd">            TikZ backend has solver limits: 13 for black-and-white plots,</span>
<span class="sd">            30 for color plots. This is due to the finite number of</span>
<span class="sd">            predefined line styles and colors in the TikZ implementation.</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            parser_opts = {&quot;files&quot;: [&quot;data1.txt&quot;], &quot;success&quot;: [&quot;converged&quot;]}</span>
<span class="sd">            profiler_opts = {&quot;output&quot;: &quot;plot&quot;, &quot;output_format&quot;: &quot;pdf&quot;,</span>
<span class="sd">                           &quot;standalone&quot;: True, &quot;lang&quot;: &quot;en&quot;}</span>
<span class="sd">            profiler = Profiler(parser_opts, profiler_opts)</span>
<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">profiler_options</span><span class="p">[</span><span class="s1">&#39;output&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.tex&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">standalone</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;standalone&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_format</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output_format&quot;</span><span class="p">]</span>

        <span class="c1"># Language for the plot</span>
        <span class="n">translation</span> <span class="o">=</span> <span class="n">gettext</span><span class="o">.</span><span class="n">translation</span><span class="p">(</span>
            <span class="s2">&quot;perprof&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">THIS_DIR</span><span class="p">,</span> <span class="s2">&quot;locale&quot;</span><span class="p">),</span> <span class="p">[</span><span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;lang&quot;</span><span class="p">]]</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_lang</span> <span class="o">=</span> <span class="n">translation</span><span class="o">.</span><span class="n">gettext</span>

        <span class="n">prof</span><span class="o">.</span><span class="n">Pdata</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parser_options</span><span class="p">,</span> <span class="n">profiler_options</span><span class="p">)</span>

    <span class="c1"># pylint: disable=too-many-locals,too-many-branches,too-many-statements</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Generate and save the TikZ/PGFPlots performance profile.</span>

<span class="sd">        Creates LaTeX code for performance profiles using TikZ and PGFPlots.</span>
<span class="sd">        Output can be standalone LaTeX document or TikZ code for embedding.</span>

<span class="sd">        Process:</span>
<span class="sd">        1. Document structure (if standalone)</span>
<span class="sd">        2. Color and line style definitions</span>
<span class="sd">        3. PGFPlots axis environment with scaling and labels</span>
<span class="sd">        4. Data plots using step functions</span>
<span class="sd">        5. Legend and finalization</span>
<span class="sd">        6. Optional PDF compilation</span>

<span class="sd">        Features:</span>
<span class="sd">        - Step plots using PGFPlots \\addplot commands</span>
<span class="sd">        - Logarithmic x-axis scaling (if semilog=True)</span>
<span class="sd">        - Color and line style combinations</span>
<span class="sd">        - Automatic PDF compilation for PDF output</span>
<span class="sd">        - Background color support</span>

<span class="sd">        Validates solver count limits (13 for B&amp;W, 30 for color).</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If too many solvers for the chosen style (B&amp;W vs color).</span>
<span class="sd">            subprocess-related exceptions: If PDF compilation fails.</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            # After creating profiler instance (see __init__ example)</span>
<span class="sd">            profiler.plot()  # Creates .tex file and optionally compiles to PDF</span>
<span class="sd">            ```</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pre_plot</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">black_and_white</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">13</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ERROR: Maximum numbers of solvers in black and white plot is 13.&quot;</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">black_and_white</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">30</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ERROR: Maximum numbers of solvers in color plot is 30.&quot;</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="n">maxt</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">maxt</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">maxt</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tau</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">AttributeError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tau</span> <span class="o">=</span> <span class="n">maxt</span>

        <span class="n">str2output</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">standalone</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_format</span> <span class="o">==</span> <span class="s2">&quot;pdf&quot;</span><span class="p">:</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">documentclass</span><span class="si">{standalone}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">usepackage[utf8]</span><span class="si">{inputenc}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">usepackage[T1]</span><span class="si">{fontenc}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">usepackage</span><span class="si">{tikz}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">usepackage</span><span class="si">{pgfplots}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pgfplot_version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">pgfplotsset</span><span class="se">{{</span><span class="s2">compat=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pgfplot_version</span><span class="si">}</span><span class="se">}}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">pgfplotsset{compat=newest,compat/show suggested version=false}&quot;</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">page_background</span><span class="p">:</span>
                <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">definecolor</span><span class="si">{pagebg}{RGB}</span><span class="s2">{&quot;</span>
                    <span class="o">+</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">page_background</span><span class="p">)</span>
                    <span class="o">+</span> <span class="s2">&quot;}&quot;</span>
                <span class="p">)</span>
                <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">pagecolor</span><span class="si">{pagebg}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">begin</span><span class="si">{document}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">begin</span><span class="si">{center}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">begin</span><span class="si">{tikzpicture}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">semilog</span><span class="p">:</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;  </span><span class="se">\\</span><span class="s2">begin</span><span class="si">{semilogxaxis}</span><span class="s2">[const plot,&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;  </span><span class="se">\\</span><span class="s2">begin</span><span class="si">{axis}</span><span class="s2">[const plot,&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">black_and_white</span><span class="p">:</span>
            <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;dashed&quot;</span><span class="p">,</span> <span class="s2">&quot;dotted&quot;</span><span class="p">,</span> <span class="s2">&quot;dashdotted&quot;</span><span class="p">,</span> <span class="s2">&quot;dashdotdotted&quot;</span><span class="p">]</span>
            <span class="n">types</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;loosely &quot;</span><span class="p">,</span> <span class="s2">&quot;densely &quot;</span><span class="p">]</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;  cycle list={&quot;</span><span class="p">)</span>
            <span class="n">aux</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;solid&quot;</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">)):</span>
                <span class="n">i</span> <span class="o">=</span> <span class="n">k</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
                <span class="n">j</span> <span class="o">=</span> <span class="n">k</span> <span class="o">//</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
                <span class="n">aux</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="se">{{</span><span class="si">{</span><span class="n">types</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="si">}{</span><span class="n">lines</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="se">}}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;,</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">aux</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;},&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span>
                <span class="s2">&quot;blue&quot;</span><span class="p">,</span>
                <span class="s2">&quot;red&quot;</span><span class="p">,</span>
                <span class="s2">&quot;black&quot;</span><span class="p">,</span>
                <span class="s2">&quot;brown&quot;</span><span class="p">,</span>
                <span class="s2">&quot;green!80!black&quot;</span><span class="p">,</span>
                <span class="s2">&quot;magenta!80!black&quot;</span><span class="p">,</span>
            <span class="p">]</span>
            <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;solid&quot;</span><span class="p">,</span> <span class="s2">&quot;dashed&quot;</span><span class="p">,</span> <span class="s2">&quot;dotted&quot;</span><span class="p">,</span> <span class="s2">&quot;dashdotted&quot;</span><span class="p">,</span> <span class="s2">&quot;dashdotdotted&quot;</span><span class="p">]</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;  cycle list={&quot;</span><span class="p">)</span>
            <span class="n">aux</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">)):</span>
                <span class="n">i</span> <span class="o">=</span> <span class="n">k</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span>
                <span class="n">j</span> <span class="o">=</span> <span class="n">k</span> <span class="o">//</span> <span class="nb">len</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span>
                <span class="n">aux</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="se">{{</span><span class="si">{</span><span class="n">colors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">lines</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="si">}</span><span class="se">}}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;,</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">aux</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;},&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="p">:</span>
            <span class="n">red</span><span class="p">,</span> <span class="n">green</span><span class="p">,</span> <span class="n">blue</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">background</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="s2">&quot;axis background/.style=&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="se">{{</span><span class="s2">fill=</span><span class="se">{{</span><span class="s2">rgb,255:red,</span><span class="si">{</span><span class="n">red</span><span class="si">}</span><span class="s2">;green,</span><span class="si">{</span><span class="n">green</span><span class="si">}</span><span class="s2">;blue,</span><span class="si">{</span><span class="n">blue</span><span class="si">}</span><span class="se">}}}}</span><span class="s2">,&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
            <span class="n">legend_pos</span> <span class="o">=</span> <span class="s2">&quot;outer north east&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">legend_pos</span> <span class="o">=</span> <span class="s2">&quot;south east&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;title=</span><span class="se">{{</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">plot_lang</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">)</span><span class="si">}</span><span class="se">}}</span><span class="s2">,&quot;</span>

        <span class="n">xlabel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_lang</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xlabel</span><span class="p">)</span>
        <span class="n">ylabel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_lang</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ylabel</span><span class="p">)</span>

        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&quot;&quot;xmin=1, xmax=</span><span class="si">{</span><span class="n">maxt</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">,</span>
<span class="s2">                ymin=-0.003, ymax=1.003,</span>
<span class="s2">                ymajorgrids,</span>
<span class="s2">                ytick=</span><span class="se">{{</span><span class="s2">0,0.2,0.4,0.6,0.8,1.0</span><span class="se">}}</span><span class="s2">,</span>
<span class="s2">                xlabel=</span><span class="se">{{</span><span class="si">{</span><span class="n">xlabel</span><span class="si">}</span><span class="se">}}</span><span class="s2">,</span>
<span class="s2">                ylabel=</span><span class="se">{{</span><span class="si">{</span><span class="n">ylabel</span><span class="si">}</span><span class="se">}}</span><span class="s2">,</span><span class="si">{</span><span class="n">title</span><span class="si">}</span>
<span class="s2">                legend pos=</span><span class="se">{{</span><span class="si">{</span><span class="n">legend_pos</span><span class="si">}</span><span class="se">}}</span><span class="s2">,</span>
<span class="s2">                width=</span><span class="se">\\</span><span class="s2">textwidth</span>
<span class="s2">            ]&quot;&quot;&quot;</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">solver</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">:</span>
            <span class="n">this_ppsbt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span><span class="p">[</span><span class="n">solver</span><span class="p">]</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;  </span><span class="se">\\</span><span class="s2">addplot+[mark=none, thick] coordinates {&quot;</span><span class="p">)</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">this_ppsbt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
            <span class="n">last_t</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span>
            <span class="n">last_p</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
                <span class="n">dx</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-</span> <span class="n">last_t</span>
                <span class="n">dx2</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-</span> <span class="n">last_t</span>
                <span class="n">dy</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">this_ppsbt</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-</span> <span class="n">last_p</span>
                <span class="n">dy2</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">this_ppsbt</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-</span> <span class="n">last_p</span>
                <span class="k">if</span> <span class="n">dx</span> <span class="o">*</span> <span class="n">dy2</span> <span class="o">==</span> <span class="n">dy</span> <span class="o">*</span> <span class="n">dx2</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tau</span><span class="p">:</span>
                    <span class="n">time</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span>
                    <span class="n">ppsbt</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span>
                    <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    (</span><span class="si">{</span><span class="n">time</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">ppsbt</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
                    <span class="n">last_t</span> <span class="o">=</span> <span class="n">time</span>
                    <span class="n">last_p</span> <span class="o">=</span> <span class="n">ppsbt</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">break</span>
            <span class="n">j</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">this_ppsbt</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;  };&quot;</span><span class="p">)</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="se">\\</span><span class="s2">addlegendentry</span><span class="se">{{</span><span class="si">{</span><span class="n">solver</span><span class="si">}</span><span class="se">}}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">semilog</span><span class="p">:</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;  </span><span class="se">\\</span><span class="s2">end</span><span class="si">{semilogxaxis}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;  </span><span class="se">\\</span><span class="s2">end</span><span class="si">{axis}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">end</span><span class="si">{tikzpicture}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">standalone</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_format</span> <span class="o">==</span> <span class="s2">&quot;pdf&quot;</span><span class="p">:</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">end</span><span class="si">{document}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">end</span><span class="si">{center}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_</span><span class="p">:</span>
                <span class="n">file_</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">str2output</span><span class="p">))</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_format</span> <span class="o">==</span> <span class="s2">&quot;pdf&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pdf_verbose</span><span class="p">:</span>
                    <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;nonstopmode&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;batchmode&quot;</span>
                <span class="n">subprocess</span><span class="o">.</span><span class="n">check_call</span><span class="p">(</span>
                    <span class="p">[</span>
                        <span class="s2">&quot;pdflatex&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;-interaction&quot;</span><span class="p">,</span>
                        <span class="n">mode</span><span class="p">,</span>
                        <span class="s2">&quot;-output-directory&quot;</span><span class="p">,</span>
                        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">),</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">,</span>
                    <span class="p">]</span>
                <span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="c1"># When using stdout</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">str2output</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<h5 id="perprof.tikz.Profiler-functions">Functions<a href="#perprof.tikz.Profiler-functions" class="headerlink" title="Permanent link">&para;</a></h5>

<div class="doc doc-object doc-function">


<h6 id="perprof.tikz.Profiler.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">parser_options</span><span class="p">,</span> <span class="n">profiler_options</span><span class="p">)</span></code>

<a href="#perprof.tikz.Profiler.__init__" class="headerlink" title="Permanent link">&para;</a></h6>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>parser_options</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>)
          –
          <div class="doc-md-description">
            <p>Data parsing configuration including:
- files: List of solver data files to process
- success: Success criteria for solver convergence
- maxtime/mintime: Time filtering bounds
- compare: Performance metric to compare (default: &ldquo;time&rdquo;)
- subset: Optional problem subset restriction</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>profiler_options</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>)
          –
          <div class="doc-md-description">
            <p>Visualization configuration including:
- output: Output filename prefix (None for stdout)
- output_format: Target format (&ldquo;tex&rdquo; or &ldquo;pdf&rdquo;)
- standalone: Generate standalone LaTeX document
- black_and_white: Use monochrome line styles
- semilog: Use logarithmic x-axis scaling
- lang: Language for plot labels
- title/xlabel/ylabel: Plot text customization
- pgfplot_version: PGFPlots compatibility version
- background/page_background: Color customization</p>
          </div>
        </li>
    </ul>


<details class="note" open>
  <summary>Note</summary>
  <p>TikZ backend has solver limits: 13 for black-and-white plots,
30 for color plots. This is due to the finite number of
predefined line styles and colors in the TikZ implementation.</p>
</details>

<details class="example" open>
  <summary>Example</summary>
  <pre><code class="language-python">parser_opts = {&quot;files&quot;: [&quot;data1.txt&quot;], &quot;success&quot;: [&quot;converged&quot;]}
profiler_opts = {&quot;output&quot;: &quot;plot&quot;, &quot;output_format&quot;: &quot;pdf&quot;,
               &quot;standalone&quot;: True, &quot;lang&quot;: &quot;en&quot;}
profiler = Profiler(parser_opts, profiler_opts)
</code></pre>
</details>

            <details class="quote">
              <summary>Source code in <code>perprof/tikz.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parser_options</span><span class="p">,</span> <span class="n">profiler_options</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize TikZ/PGFPlots-based performance profiler.</span>

<span class="sd">    Args:</span>
<span class="sd">        parser_options (dict): Data parsing configuration including:</span>
<span class="sd">            - files: List of solver data files to process</span>
<span class="sd">            - success: Success criteria for solver convergence</span>
<span class="sd">            - maxtime/mintime: Time filtering bounds</span>
<span class="sd">            - compare: Performance metric to compare (default: &quot;time&quot;)</span>
<span class="sd">            - subset: Optional problem subset restriction</span>
<span class="sd">        profiler_options (dict): Visualization configuration including:</span>
<span class="sd">            - output: Output filename prefix (None for stdout)</span>
<span class="sd">            - output_format: Target format (&quot;tex&quot; or &quot;pdf&quot;)</span>
<span class="sd">            - standalone: Generate standalone LaTeX document</span>
<span class="sd">            - black_and_white: Use monochrome line styles</span>
<span class="sd">            - semilog: Use logarithmic x-axis scaling</span>
<span class="sd">            - lang: Language for plot labels</span>
<span class="sd">            - title/xlabel/ylabel: Plot text customization</span>
<span class="sd">            - pgfplot_version: PGFPlots compatibility version</span>
<span class="sd">            - background/page_background: Color customization</span>

<span class="sd">    Note:</span>
<span class="sd">        TikZ backend has solver limits: 13 for black-and-white plots,</span>
<span class="sd">        30 for color plots. This is due to the finite number of</span>
<span class="sd">        predefined line styles and colors in the TikZ implementation.</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        parser_opts = {&quot;files&quot;: [&quot;data1.txt&quot;], &quot;success&quot;: [&quot;converged&quot;]}</span>
<span class="sd">        profiler_opts = {&quot;output&quot;: &quot;plot&quot;, &quot;output_format&quot;: &quot;pdf&quot;,</span>
<span class="sd">                       &quot;standalone&quot;: True, &quot;lang&quot;: &quot;en&quot;}</span>
<span class="sd">        profiler = Profiler(parser_opts, profiler_opts)</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">profiler_options</span><span class="p">[</span><span class="s1">&#39;output&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.tex&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">standalone</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;standalone&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">output_format</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output_format&quot;</span><span class="p">]</span>

    <span class="c1"># Language for the plot</span>
    <span class="n">translation</span> <span class="o">=</span> <span class="n">gettext</span><span class="o">.</span><span class="n">translation</span><span class="p">(</span>
        <span class="s2">&quot;perprof&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">THIS_DIR</span><span class="p">,</span> <span class="s2">&quot;locale&quot;</span><span class="p">),</span> <span class="p">[</span><span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;lang&quot;</span><span class="p">]]</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">plot_lang</span> <span class="o">=</span> <span class="n">translation</span><span class="o">.</span><span class="n">gettext</span>

    <span class="n">prof</span><span class="o">.</span><span class="n">Pdata</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parser_options</span><span class="p">,</span> <span class="n">profiler_options</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="perprof.tikz.Profiler.plot" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">plot</span><span class="p">()</span></code>

<a href="#perprof.tikz.Profiler.plot" class="headerlink" title="Permanent link">&para;</a></h6>


    <div class="doc doc-contents ">

        <p>Generate and save the TikZ/PGFPlots performance profile.</p>
<p>Creates LaTeX code for performance profiles using TikZ and PGFPlots.
Output can be standalone LaTeX document or TikZ code for embedding.</p>
<p>Process:
1. Document structure (if standalone)
2. Color and line style definitions
3. PGFPlots axis environment with scaling and labels
4. Data plots using step functions
5. Legend and finalization
6. Optional PDF compilation</p>
<p>Features:
- Step plots using PGFPlots \addplot commands
- Logarithmic x-axis scaling (if semilog=True)
- Color and line style combinations
- Automatic PDF compilation for PDF output
- Background color support</p>
<p>Validates solver count limits (13 for B&amp;W, 30 for color).</p>


<p><span class="doc-section-title">Raises:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#ValueError">ValueError</a></code>
            –
          <div class="doc-md-description">
            <p>If too many solvers for the chosen style (B&amp;W vs color).</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
              <code>subprocess-related exceptions</code>
            –
          <div class="doc-md-description">
            <p>If PDF compilation fails.</p>
          </div>
        </li>
    </ul>


<details class="example" open>
  <summary>Example</summary>
  <pre><code class="language-python"># After creating profiler instance (see __init__ example)
profiler.plot()  # Creates .tex file and optionally compiles to PDF
</code></pre>
</details>

            <details class="quote">
              <summary>Source code in <code>perprof/tikz.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Generate and save the TikZ/PGFPlots performance profile.</span>

<span class="sd">    Creates LaTeX code for performance profiles using TikZ and PGFPlots.</span>
<span class="sd">    Output can be standalone LaTeX document or TikZ code for embedding.</span>

<span class="sd">    Process:</span>
<span class="sd">    1. Document structure (if standalone)</span>
<span class="sd">    2. Color and line style definitions</span>
<span class="sd">    3. PGFPlots axis environment with scaling and labels</span>
<span class="sd">    4. Data plots using step functions</span>
<span class="sd">    5. Legend and finalization</span>
<span class="sd">    6. Optional PDF compilation</span>

<span class="sd">    Features:</span>
<span class="sd">    - Step plots using PGFPlots \\addplot commands</span>
<span class="sd">    - Logarithmic x-axis scaling (if semilog=True)</span>
<span class="sd">    - Color and line style combinations</span>
<span class="sd">    - Automatic PDF compilation for PDF output</span>
<span class="sd">    - Background color support</span>

<span class="sd">    Validates solver count limits (13 for B&amp;W, 30 for color).</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If too many solvers for the chosen style (B&amp;W vs color).</span>
<span class="sd">        subprocess-related exceptions: If PDF compilation fails.</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # After creating profiler instance (see __init__ example)</span>
<span class="sd">        profiler.plot()  # Creates .tex file and optionally compiles to PDF</span>
<span class="sd">        ```</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pre_plot</span><span class="p">()</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">black_and_white</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">13</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ERROR: Maximum numbers of solvers in black and white plot is 13.&quot;</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">black_and_white</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">30</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="n">_</span><span class="p">(</span><span class="s2">&quot;ERROR: Maximum numbers of solvers in color plot is 30.&quot;</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="n">maxt</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">maxt</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">maxt</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tau</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">AttributeError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tau</span> <span class="o">=</span> <span class="n">maxt</span>

    <span class="n">str2output</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">standalone</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_format</span> <span class="o">==</span> <span class="s2">&quot;pdf&quot;</span><span class="p">:</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">documentclass</span><span class="si">{standalone}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">usepackage[utf8]</span><span class="si">{inputenc}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">usepackage[T1]</span><span class="si">{fontenc}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">usepackage</span><span class="si">{tikz}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">usepackage</span><span class="si">{pgfplots}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pgfplot_version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">pgfplotsset</span><span class="se">{{</span><span class="s2">compat=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pgfplot_version</span><span class="si">}</span><span class="se">}}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">pgfplotsset{compat=newest,compat/show suggested version=false}&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">page_background</span><span class="p">:</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">definecolor</span><span class="si">{pagebg}{RGB}</span><span class="s2">{&quot;</span>
                <span class="o">+</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">page_background</span><span class="p">)</span>
                <span class="o">+</span> <span class="s2">&quot;}&quot;</span>
            <span class="p">)</span>
            <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">pagecolor</span><span class="si">{pagebg}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">begin</span><span class="si">{document}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">begin</span><span class="si">{center}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">begin</span><span class="si">{tikzpicture}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">semilog</span><span class="p">:</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;  </span><span class="se">\\</span><span class="s2">begin</span><span class="si">{semilogxaxis}</span><span class="s2">[const plot,&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;  </span><span class="se">\\</span><span class="s2">begin</span><span class="si">{axis}</span><span class="s2">[const plot,&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">black_and_white</span><span class="p">:</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;dashed&quot;</span><span class="p">,</span> <span class="s2">&quot;dotted&quot;</span><span class="p">,</span> <span class="s2">&quot;dashdotted&quot;</span><span class="p">,</span> <span class="s2">&quot;dashdotdotted&quot;</span><span class="p">]</span>
        <span class="n">types</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;loosely &quot;</span><span class="p">,</span> <span class="s2">&quot;densely &quot;</span><span class="p">]</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;  cycle list={&quot;</span><span class="p">)</span>
        <span class="n">aux</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;solid&quot;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">)):</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">k</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
            <span class="n">j</span> <span class="o">=</span> <span class="n">k</span> <span class="o">//</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
            <span class="n">aux</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="se">{{</span><span class="si">{</span><span class="n">types</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="si">}{</span><span class="n">lines</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="se">}}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;,</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">aux</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;},&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;blue&quot;</span><span class="p">,</span>
            <span class="s2">&quot;red&quot;</span><span class="p">,</span>
            <span class="s2">&quot;black&quot;</span><span class="p">,</span>
            <span class="s2">&quot;brown&quot;</span><span class="p">,</span>
            <span class="s2">&quot;green!80!black&quot;</span><span class="p">,</span>
            <span class="s2">&quot;magenta!80!black&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;solid&quot;</span><span class="p">,</span> <span class="s2">&quot;dashed&quot;</span><span class="p">,</span> <span class="s2">&quot;dotted&quot;</span><span class="p">,</span> <span class="s2">&quot;dashdotted&quot;</span><span class="p">,</span> <span class="s2">&quot;dashdotdotted&quot;</span><span class="p">]</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;  cycle list={&quot;</span><span class="p">)</span>
        <span class="n">aux</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">)):</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">k</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span>
            <span class="n">j</span> <span class="o">=</span> <span class="n">k</span> <span class="o">//</span> <span class="nb">len</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span>
            <span class="n">aux</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="se">{{</span><span class="si">{</span><span class="n">colors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">lines</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="si">}</span><span class="se">}}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;,</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">aux</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;},&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="p">:</span>
        <span class="n">red</span><span class="p">,</span> <span class="n">green</span><span class="p">,</span> <span class="n">blue</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">background</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="s2">&quot;axis background/.style=&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="se">{{</span><span class="s2">fill=</span><span class="se">{{</span><span class="s2">rgb,255:red,</span><span class="si">{</span><span class="n">red</span><span class="si">}</span><span class="s2">;green,</span><span class="si">{</span><span class="n">green</span><span class="si">}</span><span class="s2">;blue,</span><span class="si">{</span><span class="n">blue</span><span class="si">}</span><span class="se">}}}}</span><span class="s2">,&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
        <span class="n">legend_pos</span> <span class="o">=</span> <span class="s2">&quot;outer north east&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">legend_pos</span> <span class="o">=</span> <span class="s2">&quot;south east&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;title=</span><span class="se">{{</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">plot_lang</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">)</span><span class="si">}</span><span class="se">}}</span><span class="s2">,&quot;</span>

    <span class="n">xlabel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_lang</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xlabel</span><span class="p">)</span>
    <span class="n">ylabel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_lang</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ylabel</span><span class="p">)</span>

    <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;&quot;&quot;xmin=1, xmax=</span><span class="si">{</span><span class="n">maxt</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">,</span>
<span class="s2">            ymin=-0.003, ymax=1.003,</span>
<span class="s2">            ymajorgrids,</span>
<span class="s2">            ytick=</span><span class="se">{{</span><span class="s2">0,0.2,0.4,0.6,0.8,1.0</span><span class="se">}}</span><span class="s2">,</span>
<span class="s2">            xlabel=</span><span class="se">{{</span><span class="si">{</span><span class="n">xlabel</span><span class="si">}</span><span class="se">}}</span><span class="s2">,</span>
<span class="s2">            ylabel=</span><span class="se">{{</span><span class="si">{</span><span class="n">ylabel</span><span class="si">}</span><span class="se">}}</span><span class="s2">,</span><span class="si">{</span><span class="n">title</span><span class="si">}</span>
<span class="s2">            legend pos=</span><span class="se">{{</span><span class="si">{</span><span class="n">legend_pos</span><span class="si">}</span><span class="se">}}</span><span class="s2">,</span>
<span class="s2">            width=</span><span class="se">\\</span><span class="s2">textwidth</span>
<span class="s2">        ]&quot;&quot;&quot;</span>
    <span class="p">)</span>

    <span class="k">for</span> <span class="n">solver</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">:</span>
        <span class="n">this_ppsbt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span><span class="p">[</span><span class="n">solver</span><span class="p">]</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;  </span><span class="se">\\</span><span class="s2">addplot+[mark=none, thick] coordinates {&quot;</span><span class="p">)</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">this_ppsbt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
        <span class="n">last_t</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">last_p</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">dx</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-</span> <span class="n">last_t</span>
            <span class="n">dx2</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-</span> <span class="n">last_t</span>
            <span class="n">dy</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">this_ppsbt</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-</span> <span class="n">last_p</span>
            <span class="n">dy2</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">this_ppsbt</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span> <span class="o">-</span> <span class="n">last_p</span>
            <span class="k">if</span> <span class="n">dx</span> <span class="o">*</span> <span class="n">dy2</span> <span class="o">==</span> <span class="n">dy</span> <span class="o">*</span> <span class="n">dx2</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tau</span><span class="p">:</span>
                <span class="n">time</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span>
                <span class="n">ppsbt</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span><span class="p">[</span><span class="n">solver</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span>
                <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    (</span><span class="si">{</span><span class="n">time</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">ppsbt</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
                <span class="n">last_t</span> <span class="o">=</span> <span class="n">time</span>
                <span class="n">last_p</span> <span class="o">=</span> <span class="n">ppsbt</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">break</span>
        <span class="n">j</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">this_ppsbt</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;  };&quot;</span><span class="p">)</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="se">\\</span><span class="s2">addlegendentry</span><span class="se">{{</span><span class="si">{</span><span class="n">solver</span><span class="si">}</span><span class="se">}}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">semilog</span><span class="p">:</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;  </span><span class="se">\\</span><span class="s2">end</span><span class="si">{semilogxaxis}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;  </span><span class="se">\\</span><span class="s2">end</span><span class="si">{axis}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">end</span><span class="si">{tikzpicture}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">standalone</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_format</span> <span class="o">==</span> <span class="s2">&quot;pdf&quot;</span><span class="p">:</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">end</span><span class="si">{document}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">str2output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">end</span><span class="si">{center}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_</span><span class="p">:</span>
            <span class="n">file_</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">str2output</span><span class="p">))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_format</span> <span class="o">==</span> <span class="s2">&quot;pdf&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pdf_verbose</span><span class="p">:</span>
                <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;nonstopmode&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;batchmode&quot;</span>
            <span class="n">subprocess</span><span class="o">.</span><span class="n">check_call</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="s2">&quot;pdflatex&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;-interaction&quot;</span><span class="p">,</span>
                    <span class="n">mode</span><span class="p">,</span>
                    <span class="s2">&quot;-output-directory&quot;</span><span class="p">,</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">,</span>
                <span class="p">]</span>
            <span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="c1"># When using stdout</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">str2output</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div><h2 id="profiler-using-matplotlib">Profiler using matplotlib<a class="headerlink" href="#profiler-using-matplotlib" title="Permanent link">&para;</a></h2>


<div class="doc doc-object doc-module">



<a id="perprof.matplotlib"></a>
    <div class="doc doc-contents first">

        <p>Plot using matplotlib.</p>









  <div class="doc doc-children">






<h3 id="perprof.matplotlib-classes">Classes<a href="#perprof.matplotlib-classes" class="headerlink" title="Permanent link">&para;</a></h3>

<div class="doc doc-object doc-class">



<h4 id="perprof.matplotlib.Profiler" class="doc doc-heading">
            <code>perprof.matplotlib.Profiler</code>


<a href="#perprof.matplotlib.Profiler" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="perprof.prof.Pdata" href="#perprof.prof.Pdata">Pdata</a></code></p>


        <p>Performance profile generator using matplotlib backend.</p>
<p>Creates performance profile plots using matplotlib with support for multiple
output formats (PNG, PDF, SVG, EPS, PS) and customization options.</p>
<p>Generates step plots showing cumulative distribution of solver performance ratios.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><span title="perprof.matplotlib.Profiler.output">output</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          –
          <div class="doc-md-description">
            <p>Output filename including format extension.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="perprof.matplotlib.Profiler.output_format">output_format</span></code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
          –
          <div class="doc-md-description">
            <p>File format for the output (png, pdf, svg, etc.).</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
          <b><code><span title="perprof.matplotlib.Profiler.plot_lang">plot_lang</span></code></b>
              (<code><span title="function">function</span></code>)
          –
          <div class="doc-md-description">
            <p>Localization function for plot text.</p>
          </div>
        </li>
    </ul>


<details class="example" open>
  <summary>Example</summary>
  <p>Creating a matplotlib profiler for performance analysis:</p>
<pre><code class="language-python">from perprof.matplotlib import Profiler

# Configure data parsing
parser_opts = {
    &quot;files&quot;: [&quot;solver1.txt&quot;, &quot;solver2.txt&quot;],
    &quot;success&quot;: [&quot;converged&quot;, &quot;solved&quot;],
    &quot;maxtime&quot;: 300.0,
    &quot;compare&quot;: &quot;time&quot;
}

# Configure plot appearance
profiler_opts = {
    &quot;output&quot;: &quot;comparison&quot;,
    &quot;output_format&quot;: &quot;png&quot;,
    &quot;semilog&quot;: True,
    &quot;lang&quot;: &quot;en&quot;,
    &quot;title&quot;: &quot;Performance Comparison&quot;
}

# Generate plot
profiler = Profiler(parser_opts, profiler_opts)
profiler.plot()  # Creates comparison.png
</code></pre>
</details>






              <details class="quote">
                <summary>Source code in <code>perprof/matplotlib.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Profiler</span><span class="p">(</span><span class="n">prof</span><span class="o">.</span><span class="n">Pdata</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Performance profile generator using matplotlib backend.</span>

<span class="sd">    Creates performance profile plots using matplotlib with support for multiple</span>
<span class="sd">    output formats (PNG, PDF, SVG, EPS, PS) and customization options.</span>

<span class="sd">    Generates step plots showing cumulative distribution of solver performance ratios.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        output (str): Output filename including format extension.</span>
<span class="sd">        output_format (str): File format for the output (png, pdf, svg, etc.).</span>
<span class="sd">        plot_lang (function): Localization function for plot text.</span>

<span class="sd">    Example:</span>
<span class="sd">        Creating a matplotlib profiler for performance analysis:</span>

<span class="sd">        ```python</span>
<span class="sd">        from perprof.matplotlib import Profiler</span>

<span class="sd">        # Configure data parsing</span>
<span class="sd">        parser_opts = {</span>
<span class="sd">            &quot;files&quot;: [&quot;solver1.txt&quot;, &quot;solver2.txt&quot;],</span>
<span class="sd">            &quot;success&quot;: [&quot;converged&quot;, &quot;solved&quot;],</span>
<span class="sd">            &quot;maxtime&quot;: 300.0,</span>
<span class="sd">            &quot;compare&quot;: &quot;time&quot;</span>
<span class="sd">        }</span>

<span class="sd">        # Configure plot appearance</span>
<span class="sd">        profiler_opts = {</span>
<span class="sd">            &quot;output&quot;: &quot;comparison&quot;,</span>
<span class="sd">            &quot;output_format&quot;: &quot;png&quot;,</span>
<span class="sd">            &quot;semilog&quot;: True,</span>
<span class="sd">            &quot;lang&quot;: &quot;en&quot;,</span>
<span class="sd">            &quot;title&quot;: &quot;Performance Comparison&quot;</span>
<span class="sd">        }</span>

<span class="sd">        # Generate plot</span>
<span class="sd">        profiler = Profiler(parser_opts, profiler_opts)</span>
<span class="sd">        profiler.plot()  # Creates comparison.png</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parser_options</span><span class="p">,</span> <span class="n">profiler_options</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize matplotlib-based performance profiler.</span>

<span class="sd">        Args:</span>
<span class="sd">            parser_options (dict): Data parsing configuration including:</span>
<span class="sd">                - files: List of solver data files to process</span>
<span class="sd">                - success: Success criteria for solver convergence</span>
<span class="sd">                - maxtime/mintime: Time filtering bounds</span>
<span class="sd">                - compare: Performance metric to compare (default: &quot;time&quot;)</span>
<span class="sd">                - subset: Optional problem subset restriction</span>
<span class="sd">            profiler_options (dict): Visualization configuration including:</span>
<span class="sd">                - output: Output filename prefix (extension auto-added)</span>
<span class="sd">                - output_format: File format (png, pdf, svg, eps, ps)</span>
<span class="sd">                - semilog: Use logarithmic x-axis scaling</span>
<span class="sd">                - black_and_white: Use monochrome line styles</span>
<span class="sd">                - lang: Language for plot labels</span>
<span class="sd">                - title/xlabel/ylabel: Plot text customization</span>
<span class="sd">                - background/page_background: Color customization</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            parser_opts = {&quot;files&quot;: [&quot;data1.txt&quot;], &quot;success&quot;: [&quot;converged&quot;]}</span>
<span class="sd">            profiler_opts = {&quot;output&quot;: &quot;plot&quot;, &quot;output_format&quot;: &quot;png&quot;, &quot;lang&quot;: &quot;en&quot;}</span>
<span class="sd">            profiler = Profiler(parser_opts, profiler_opts)</span>
<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;performance-profile.</span><span class="si">{</span><span class="n">profiler_options</span><span class="p">[</span><span class="s1">&#39;output_format&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">profiler_options</span><span class="p">[</span><span class="s1">&#39;output&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">profiler_options</span><span class="p">[</span><span class="s1">&#39;output_format&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_format</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output_format&quot;</span><span class="p">]</span>

        <span class="c1"># Language for the plot</span>
        <span class="n">translation</span> <span class="o">=</span> <span class="n">gettext</span><span class="o">.</span><span class="n">translation</span><span class="p">(</span>
            <span class="s2">&quot;perprof&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">THIS_DIR</span><span class="p">,</span> <span class="s2">&quot;locale&quot;</span><span class="p">),</span> <span class="p">[</span><span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;lang&quot;</span><span class="p">]]</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_lang</span> <span class="o">=</span> <span class="n">translation</span><span class="o">.</span><span class="n">gettext</span>

        <span class="n">prof</span><span class="o">.</span><span class="n">Pdata</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parser_options</span><span class="p">,</span> <span class="n">profiler_options</span><span class="p">)</span>

    <span class="c1"># pylint: disable=too-many-branches</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate and save the performance profile plot.</span>

<span class="sd">        Creates a step plot showing cumulative distribution of performance ratios</span>
<span class="sd">        for each solver.</span>

<span class="sd">        Features:</span>
<span class="sd">        - Step plot with solver-specific line styles and colors</span>
<span class="sd">        - Logarithmic x-axis scaling (if semilog=True)</span>
<span class="sd">        - Customizable background colors and transparency</span>
<span class="sd">        - Legend and grid lines</span>
<span class="sd">        - Automatic axis scaling</span>

<span class="sd">        Saves plot to filename specified during initialization.</span>

<span class="sd">        Raises:</span>
<span class="sd">            matplotlib-related exceptions: If plot generation or saving fails.</span>

<span class="sd">        Example:</span>
<span class="sd">            ```python</span>
<span class="sd">            # After creating profiler instance (see __init__ example)</span>
<span class="sd">            profiler.plot()  # Creates the performance profile plot file</span>
<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pre_plot</span><span class="p">()</span>

        <span class="c1"># Hack need to background color</span>
        <span class="n">figure_</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
        <span class="n">plot_</span> <span class="o">=</span> <span class="n">figure_</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>

        <span class="c1"># Set configurations handle when saving the plot</span>
        <span class="n">save_configs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_format</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">page_background</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">page_background</span>
            <span class="c1"># RGB tuples must be in the range [0,1]</span>
            <span class="n">save_configs</span><span class="p">[</span><span class="s2">&quot;facecolor&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">page_background</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">page_background</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">page_background</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="p">:</span>
            <span class="n">plot_</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span>
                <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">page_background</span><span class="p">:</span>
                <span class="n">figure_</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">background</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">page_background</span><span class="p">:</span>
            <span class="n">save_configs</span><span class="p">[</span><span class="s2">&quot;transparent&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">save_configs</span><span class="p">[</span><span class="s2">&quot;facecolor&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;none&quot;</span>

        <span class="c1"># Define the linestyles</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">black_and_white</span><span class="p">:</span>
            <span class="n">linestyles</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;k-&quot;</span><span class="p">,</span> <span class="s2">&quot;k--&quot;</span><span class="p">,</span> <span class="s2">&quot;k:&quot;</span><span class="p">,</span> <span class="s2">&quot;k-.&quot;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">linestyles</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;g&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">]</span>

        <span class="c1"># Generate the plot for each solver</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">solver</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">):</span>
            <span class="n">plot_</span><span class="o">.</span><span class="n">step</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span><span class="p">[</span><span class="n">solver</span><span class="p">],</span>
                <span class="n">linestyles</span><span class="p">[</span><span class="n">idx</span><span class="p">],</span>
                <span class="n">label</span><span class="o">=</span><span class="n">solver</span><span class="p">,</span>
                <span class="n">where</span><span class="o">=</span><span class="s2">&quot;post&quot;</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="c1"># Change the xscale to log scale</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">semilog</span><span class="p">:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_xscale</span><span class="p">(</span><span class="s2">&quot;log&quot;</span><span class="p">)</span>

        <span class="c1"># Axis</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">maxt</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">tau</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">AttributeError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
            <span class="n">maxt</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">maxt</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plot_lang</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xlabel</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mf">0.002</span><span class="p">,</span> <span class="mf">1.006</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plot_lang</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ylabel</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plot_lang</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">))</span>

        <span class="c1"># Legend</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

        <span class="c1"># Help lines</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;0.5&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>

        <span class="c1"># Save the plot</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s2">&quot;tight&quot;</span><span class="p">,</span> <span class="n">pad_inches</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="o">**</span><span class="n">save_configs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<h5 id="perprof.matplotlib.Profiler-functions">Functions<a href="#perprof.matplotlib.Profiler-functions" class="headerlink" title="Permanent link">&para;</a></h5>

<div class="doc doc-object doc-function">


<h6 id="perprof.matplotlib.Profiler.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">parser_options</span><span class="p">,</span> <span class="n">profiler_options</span><span class="p">)</span></code>

<a href="#perprof.matplotlib.Profiler.__init__" class="headerlink" title="Permanent link">&para;</a></h6>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>parser_options</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>)
          –
          <div class="doc-md-description">
            <p>Data parsing configuration including:
- files: List of solver data files to process
- success: Success criteria for solver convergence
- maxtime/mintime: Time filtering bounds
- compare: Performance metric to compare (default: &ldquo;time&rdquo;)
- subset: Optional problem subset restriction</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>profiler_options</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>)
          –
          <div class="doc-md-description">
            <p>Visualization configuration including:
- output: Output filename prefix (extension auto-added)
- output_format: File format (png, pdf, svg, eps, ps)
- semilog: Use logarithmic x-axis scaling
- black_and_white: Use monochrome line styles
- lang: Language for plot labels
- title/xlabel/ylabel: Plot text customization
- background/page_background: Color customization</p>
          </div>
        </li>
    </ul>


<details class="example" open>
  <summary>Example</summary>
  <pre><code class="language-python">parser_opts = {&quot;files&quot;: [&quot;data1.txt&quot;], &quot;success&quot;: [&quot;converged&quot;]}
profiler_opts = {&quot;output&quot;: &quot;plot&quot;, &quot;output_format&quot;: &quot;png&quot;, &quot;lang&quot;: &quot;en&quot;}
profiler = Profiler(parser_opts, profiler_opts)
</code></pre>
</details>

            <details class="quote">
              <summary>Source code in <code>perprof/matplotlib.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parser_options</span><span class="p">,</span> <span class="n">profiler_options</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize matplotlib-based performance profiler.</span>

<span class="sd">    Args:</span>
<span class="sd">        parser_options (dict): Data parsing configuration including:</span>
<span class="sd">            - files: List of solver data files to process</span>
<span class="sd">            - success: Success criteria for solver convergence</span>
<span class="sd">            - maxtime/mintime: Time filtering bounds</span>
<span class="sd">            - compare: Performance metric to compare (default: &quot;time&quot;)</span>
<span class="sd">            - subset: Optional problem subset restriction</span>
<span class="sd">        profiler_options (dict): Visualization configuration including:</span>
<span class="sd">            - output: Output filename prefix (extension auto-added)</span>
<span class="sd">            - output_format: File format (png, pdf, svg, eps, ps)</span>
<span class="sd">            - semilog: Use logarithmic x-axis scaling</span>
<span class="sd">            - black_and_white: Use monochrome line styles</span>
<span class="sd">            - lang: Language for plot labels</span>
<span class="sd">            - title/xlabel/ylabel: Plot text customization</span>
<span class="sd">            - background/page_background: Color customization</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        parser_opts = {&quot;files&quot;: [&quot;data1.txt&quot;], &quot;success&quot;: [&quot;converged&quot;]}</span>
<span class="sd">        profiler_opts = {&quot;output&quot;: &quot;plot&quot;, &quot;output_format&quot;: &quot;png&quot;, &quot;lang&quot;: &quot;en&quot;}</span>
<span class="sd">        profiler = Profiler(parser_opts, profiler_opts)</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;performance-profile.</span><span class="si">{</span><span class="n">profiler_options</span><span class="p">[</span><span class="s1">&#39;output_format&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">profiler_options</span><span class="p">[</span><span class="s1">&#39;output&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">profiler_options</span><span class="p">[</span><span class="s1">&#39;output_format&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">output_format</span> <span class="o">=</span> <span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;output_format&quot;</span><span class="p">]</span>

    <span class="c1"># Language for the plot</span>
    <span class="n">translation</span> <span class="o">=</span> <span class="n">gettext</span><span class="o">.</span><span class="n">translation</span><span class="p">(</span>
        <span class="s2">&quot;perprof&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">THIS_DIR</span><span class="p">,</span> <span class="s2">&quot;locale&quot;</span><span class="p">),</span> <span class="p">[</span><span class="n">profiler_options</span><span class="p">[</span><span class="s2">&quot;lang&quot;</span><span class="p">]]</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">plot_lang</span> <span class="o">=</span> <span class="n">translation</span><span class="o">.</span><span class="n">gettext</span>

    <span class="n">prof</span><span class="o">.</span><span class="n">Pdata</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parser_options</span><span class="p">,</span> <span class="n">profiler_options</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="perprof.matplotlib.Profiler.plot" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">plot</span><span class="p">()</span></code>

<a href="#perprof.matplotlib.Profiler.plot" class="headerlink" title="Permanent link">&para;</a></h6>


    <div class="doc doc-contents ">

        <p>Generate and save the performance profile plot.</p>
<p>Creates a step plot showing cumulative distribution of performance ratios
for each solver.</p>
<p>Features:
- Step plot with solver-specific line styles and colors
- Logarithmic x-axis scaling (if semilog=True)
- Customizable background colors and transparency
- Legend and grid lines
- Automatic axis scaling</p>
<p>Saves plot to filename specified during initialization.</p>


<p><span class="doc-section-title">Raises:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>matplotlib-related exceptions</code>
            –
          <div class="doc-md-description">
            <p>If plot generation or saving fails.</p>
          </div>
        </li>
    </ul>


<details class="example" open>
  <summary>Example</summary>
  <pre><code class="language-python"># After creating profiler instance (see __init__ example)
profiler.plot()  # Creates the performance profile plot file
</code></pre>
</details>

            <details class="quote">
              <summary>Source code in <code>perprof/matplotlib.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate and save the performance profile plot.</span>

<span class="sd">    Creates a step plot showing cumulative distribution of performance ratios</span>
<span class="sd">    for each solver.</span>

<span class="sd">    Features:</span>
<span class="sd">    - Step plot with solver-specific line styles and colors</span>
<span class="sd">    - Logarithmic x-axis scaling (if semilog=True)</span>
<span class="sd">    - Customizable background colors and transparency</span>
<span class="sd">    - Legend and grid lines</span>
<span class="sd">    - Automatic axis scaling</span>

<span class="sd">    Saves plot to filename specified during initialization.</span>

<span class="sd">    Raises:</span>
<span class="sd">        matplotlib-related exceptions: If plot generation or saving fails.</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        # After creating profiler instance (see __init__ example)</span>
<span class="sd">        profiler.plot()  # Creates the performance profile plot file</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pre_plot</span><span class="p">()</span>

    <span class="c1"># Hack need to background color</span>
    <span class="n">figure_</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="n">plot_</span> <span class="o">=</span> <span class="n">figure_</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>

    <span class="c1"># Set configurations handle when saving the plot</span>
    <span class="n">save_configs</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_format</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">page_background</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">page_background</span>
        <span class="c1"># RGB tuples must be in the range [0,1]</span>
        <span class="n">save_configs</span><span class="p">[</span><span class="s2">&quot;facecolor&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">page_background</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">page_background</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">page_background</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="p">:</span>
        <span class="n">plot_</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span>
            <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">page_background</span><span class="p">:</span>
            <span class="n">figure_</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">background</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">page_background</span><span class="p">:</span>
        <span class="n">save_configs</span><span class="p">[</span><span class="s2">&quot;transparent&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">save_configs</span><span class="p">[</span><span class="s2">&quot;facecolor&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;none&quot;</span>

    <span class="c1"># Define the linestyles</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">black_and_white</span><span class="p">:</span>
        <span class="n">linestyles</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;k-&quot;</span><span class="p">,</span> <span class="s2">&quot;k--&quot;</span><span class="p">,</span> <span class="s2">&quot;k:&quot;</span><span class="p">,</span> <span class="s2">&quot;k-.&quot;</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">linestyles</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;g&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">]</span>

    <span class="c1"># Generate the plot for each solver</span>
    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">solver</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">solvers</span><span class="p">):</span>
        <span class="n">plot_</span><span class="o">.</span><span class="n">step</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ppsbt</span><span class="p">[</span><span class="n">solver</span><span class="p">],</span>
            <span class="n">linestyles</span><span class="p">[</span><span class="n">idx</span><span class="p">],</span>
            <span class="n">label</span><span class="o">=</span><span class="n">solver</span><span class="p">,</span>
            <span class="n">where</span><span class="o">=</span><span class="s2">&quot;post&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># Change the xscale to log scale</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">semilog</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_xscale</span><span class="p">(</span><span class="s2">&quot;log&quot;</span><span class="p">)</span>

    <span class="c1"># Axis</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">maxt</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">tau</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">AttributeError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
        <span class="n">maxt</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">times</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">maxt</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plot_lang</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xlabel</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mf">0.002</span><span class="p">,</span> <span class="mf">1.006</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plot_lang</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ylabel</span><span class="p">))</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plot_lang</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">))</span>

    <span class="c1"># Legend</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

    <span class="c1"># Help lines</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;0.5&quot;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>

    <span class="c1"># Save the plot</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s2">&quot;tight&quot;</span><span class="p">,</span> <span class="n">pad_inches</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="o">**</span><span class="n">save_configs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>